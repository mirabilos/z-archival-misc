<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//gnu.org///DTD XHTML 1.1 plus Target 1.0//EN" "../../resources/xhtml11-target10.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>EventDispatcher</title><script src="../../resources/gjdoc.js" type="text/javascript"><!-- this comment required for konqueror 3.2.2 --></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="generator" content="GNU Gjdoc Standard Doclet"/><meta name="keywords" content="ewe.util.EventDispatcher class"/><meta name="keywords" content="dontUseSeparateThread"/><meta name="keywords" content="doRun()"/><meta name="keywords" content="addListener()"/><meta name="keywords" content="removeListener()"/><meta name="keywords" content="getCurrentListeners()"/><meta name="keywords" content="dispatch()"/><meta name="keywords" content="isEmpty()"/><meta name="keywords" content="close()"/><meta name="keywords" content="finalize()"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-layout.css" title="GNU Clean"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-color1.css" title="GNU Clean"/></head><body class="content class" onload="if(parent.contentPageLoaded)parent.contentPageLoaded(document.title)"><table class="navbar div top"><tr><td class="navbar div top"><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td><td class="header" rowspan="2">MirEwe 1.49mb4 API</td></tr><tr><td class="navi"><a href="../../ewe/util/Errorable.html">Prev Class</a> | <a href="../../ewe/util/FileClassLoader.html">Next Class</a></td><td class="navi"><a href="../../index.html" title="Show in a frameset" target="_top">Frames</a> | <a href="EventDispatcher.html" title="Show without frames" target="_top">No Frames</a> </td></tr><tr><td class="navi">Summary: Nested | <a href="#summary-fields">Field</a> | <a href="#summary-methods">Method</a> | <a href="#summary-constructors">Constr</a></td><td class="navi">Detail: Nested | <a href="#detail-fields">Field</a> | <a href="#detail-methods">Method</a> | <a href="#detail-constructors">Constr</a></td></tr></table><div class="class title outer"><h3 class="class title-package">ewe.util</h3><h1 class="class title-class">Class EventDispatcher</h1></div><div class="class inheritance-tree"><ul class="inheritance 0"><li class="inheritance 0"><code><a href="../../java/lang/Object.html">java.lang.Object</a></code></li><li><ul class="inheritance 1"><li class="inheritance 1"><code><a href="../../ewe/sys/TaskObject.html">ewe.sys.TaskObject</a></code></li><li><ul class="inheritance 2"><li class="inheritance 2"><code>ewe.util.EventDispatcher</code></li><li></li></ul></li></ul></li></ul></div><dl class="class knownimplementing"><dt class="header"><b>Implemented Interfaces:</b></dt><dd class="item"><a href="../../java/lang/Runnable.html" title="Interface in java.lang">Runnable</a>, <a href="../../ewe/sys/Task.html" title="Interface in ewe.sys">Task</a></dd></dl><hr/><div class="class synopsis outer"><div class="class synopsis declaration"><code>public class <b class="class synopsis name">EventDispatcher</b></code></div><div class="class synopsis superclass"><code>extends <a href="../../ewe/sys/TaskObject.html" title="Class in ewe.sys">TaskObject</a></code></div></div><hr/><div class="class description"> An EventDispatcher is a utility class that can be used to keep track of a set of
 ewe.ui.EventListener objects that wish to listen to some kind of event via their
 onEvent(Event ev) method.
 <p/>
 The EventDispatcher can be configured to dispatch events in the current thread or
 via one or more background threads.
 <p/>
 Listeners can also be added weakly, where a reference to them is kept only as long
 as they are referenced by other objects other than the EventDispatcher. So when they
 are garbage collected they will automatically be removed from the EventDispatcher.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><a name="summary-fields" id="summary-fields"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Field Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#dontUseSeparateThread">dontUseSeparateThread</a></code></dt><dd class="description"> If this is set true then events are not delivered via a separate
 thread, but within the same thread that called dispatch().</dd></dl></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Fields inherited from class ewe.sys.<a href="../../ewe/sys/TaskObject.html" title="Class in ewe.sys">TaskObject</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/sys/TaskObject.html#handle"><code class="member">handle</code></a>, <a href="../../ewe/sys/TaskObject.html#interruptThreadToStop"><code class="member">interruptThreadToStop</code></a>, <a href="../../ewe/sys/TaskObject.html#myThread"><code class="member">myThread</code></a>, <a href="../../ewe/sys/TaskObject.html#napIterations"><code class="member">napIterations</code></a>, <a href="../../ewe/sys/TaskObject.html#napTime"><code class="member">napTime</code></a>, <a href="../../ewe/sys/TaskObject.html#shouldStop"><code class="member">shouldStop</code></a></td></tr></table></dd></dl><a name="summary-constructors" id="summary-constructors"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Constructor Summary</h2></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#EventDispatcher:">EventDispatcher</a>()</code></dt><dd class="description"> Create a new TaskObject and assign a new Handle to the handle member.</dd></dl></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#EventDispatcher:int">EventDispatcher</a>(int&nbsp;maxParallelDeliveries)</code></dt><dd class="description"> Create an EventDispatcher specifying the number of threads used to deliver events.</dd></dl></td></tr></table></dd></dl><a name="summary-methods" id="summary-methods"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Method Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#addListener:EventListener">addListener</a>(<a href="../../ewe/ui/EventListener.html" title="Interface in ewe.ui">EventListener</a>&nbsp;listener)</code></dt><dd class="description"> Add an event listener.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#addListener:EventListener:boolean">addListener</a>(<a href="../../ewe/ui/EventListener.html" title="Interface in ewe.ui">EventListener</a>&nbsp;listener, boolean&nbsp;addToWeakSet)</code></dt><dd class="description"> Add an event listener.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#close:">close</a>()</code></dt><dd class="description"> Close the EventDispatcher.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#dispatch:Event">dispatch</a>(<a href="../../ewe/ui/Event.html" title="Class in ewe.ui">Event</a>&nbsp;ev)</code></dt><dd class="description"> Send off the event to the listeners.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#doRun:">doRun</a>()</code></dt><dd class="description"> Override this method if you want to use an mThread to run your Task.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#finalize:">finalize</a>()</code></dt><dd class="description"> This method (when overriden), will be called when the VM determines that the Object can be
 garbage collected.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> <a href="../../ewe/util/Vector.html" title="Class in ewe.util">Vector</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getCurrentListeners:Vector">getCurrentListeners</a>(<a href="../../ewe/util/Vector.html" title="Class in ewe.util">Vector</a>&nbsp;destination)</code></dt><dd class="description"> Get all current listeners.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#isEmpty:">isEmpty</a>()</code></dt><dd class="description"> Check if there are any listeners in the Dispatcher.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#removeListener:EventListener">removeListener</a>(<a href="../../ewe/ui/EventListener.html" title="Interface in ewe.ui">EventListener</a>&nbsp;listener)</code></dt><dd class="description"> Remove an event listener.</dd></dl></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class ewe.sys.<a href="../../ewe/sys/TaskObject.html" title="Class in ewe.sys">TaskObject</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/sys/TaskObject.html#checkAbortFail:Handle:boolean" title="checkAbortFail(Handle,boolean)"><code class="member">checkAbortFail</code></a>, <a href="../../ewe/sys/TaskObject.html#checkFailure:boolean:Handle:boolean" title="checkFailure(boolean,Handle,boolean)"><code class="member">checkFailure</code></a>, <a href="../../ewe/sys/TaskObject.html#doRun:" title="doRun()"><code class="member">doRun</code></a>, <a href="../../ewe/sys/TaskObject.html#doStart:" title="doStart()"><code class="member">doStart</code></a>, <a href="../../ewe/sys/TaskObject.html#doStop:int" title="doStop(int)"><code class="member">doStop</code></a>, <a href="../../ewe/sys/TaskObject.html#exec:String:Frame" title="exec(String,Frame)"><code class="member">exec</code></a>, <a href="../../ewe/sys/TaskObject.html#getHandle:" title="getHandle()"><code class="member">getHandle</code></a>, <a href="../../ewe/sys/TaskObject.html#nap:" title="nap()"><code class="member">nap</code></a>, <a href="../../ewe/sys/TaskObject.html#run:" title="run()"><code class="member">run</code></a>, <a href="../../ewe/sys/TaskObject.html#setNapTime:int:int" title="setNapTime(int,int)"><code class="member">setNapTime</code></a>, <a href="../../ewe/sys/TaskObject.html#show:String:Frame" title="show(String,Frame)"><code class="member">show</code></a>, <a href="../../ewe/sys/TaskObject.html#sleep:int" title="sleep(int)"><code class="member">sleep</code></a>, <a href="../../ewe/sys/TaskObject.html#start:String" title="start(String)"><code class="member">start</code></a>, <a href="../../ewe/sys/TaskObject.html#startTask:" title="startTask()"><code class="member">startTask</code></a>, <a href="../../ewe/sys/TaskObject.html#stopTask:int" title="stopTask(int)"><code class="member">stopTask</code></a>, <a href="../../ewe/sys/TaskObject.html#waitOn:Handle:int:boolean" title="waitOn(Handle,int,boolean)"><code class="member">waitOn</code></a>, <a href="../../ewe/sys/TaskObject.html#waitOnAny:Handle:int:boolean" title="waitOnAny(Handle,int,boolean)"><code class="member">waitOnAny</code></a>, <a href="../../ewe/sys/TaskObject.html#waitOnSuccess:Handle:boolean" title="waitOnSuccess(Handle,boolean)"><code class="member">waitOnSuccess</code></a>, <a href="../../ewe/sys/TaskObject.html#yield:" title="yield()"><code class="member">yield</code></a>, <a href="../../ewe/sys/TaskObject.html#yield:int" title="yield(int)"><code class="member">yield</code></a></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class java.lang.<a href="../../java/lang/Object.html" title="Class in java.lang">Object</a></h3></td></tr><tr><td class="inherited"><a href="../../java/lang/Object.html#clone:" title="clone()"><code class="member">clone</code></a>, <a href="../../java/lang/Object.html#equals:Object" title="equals(Object)"><code class="member">equals</code></a>, <a href="../../java/lang/Object.html#finalize:" title="finalize()"><code class="member">finalize</code></a>, <a href="../../java/lang/Object.html#getClass:" title="getClass()"><code class="member">getClass</code></a>, <a href="../../java/lang/Object.html#hashCode:" title="hashCode()"><code class="member">hashCode</code></a>, <a href="../../java/lang/Object.html#toString:" title="toString()"><code class="member">toString</code></a></td></tr></table></dd></dl><a name="detail-fields" id="detail-fields"/><h2 class="section header">Field Details</h2><div class="section"><a name="dontUseSeparateThread" id="dontUseSeparateThread"/><div class="member detail outer"><h3 class="member detail name">dontUseSeparateThread</h3><pre class="member detail synopsis">public boolean dontUseSeparateThread</pre><blockquote class="member detail name"><div class="member detail description"> If this is set true then events are not delivered via a separate
 thread, but within the same thread that called dispatch().
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-constructors" id="detail-constructors"/><h2 class="section header">Constructor Details</h2><div class="section"><a name="EventDispatcher:" id="EventDispatcher:"/><div class="member detail outer"><h3 class="member detail name">EventDispatcher</h3><pre class="member detail synopsis">public EventDispatcher()</pre><blockquote class="member detail name"><div class="member detail description"> Create a new TaskObject and assign a new Handle to the handle member.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="EventDispatcher:int" id="EventDispatcher:int"/><div class="member detail outer"><h3 class="member detail name">EventDispatcher</h3><pre class="member detail synopsis">public EventDispatcher(int maxParallelDeliveries)</pre><blockquote class="member detail name"><div class="member detail description"> Create an EventDispatcher specifying the number of threads used to deliver events.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">maxParallelDeliveries</code><span class="separator"> - </span><span class="description">the maximum number of threads used to deliver evetns simultaneously.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-methods" id="detail-methods"/><h2 class="section header">Method Details</h2><div class="section"><a name="addListener:EventListener" id="addListener:EventListener"/><div class="member detail outer"><h3 class="member detail name">addListener</h3><pre class="member detail synopsis">public void addListener(<a href="../../ewe/ui/EventListener.html" title="Interface in ewe.ui">EventListener</a> listener)</pre><blockquote class="member detail name"><div class="member detail description"> Add an event listener.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">listener</code><span class="separator"> - </span><span class="description">The listener to add.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="addListener:EventListener:boolean" id="addListener:EventListener:boolean"/><div class="member detail outer"><h3 class="member detail name">addListener</h3><pre class="member detail synopsis">public void addListener(<a href="../../ewe/ui/EventListener.html" title="Interface in ewe.ui">EventListener</a> listener,
                        boolean addToWeakSet)</pre><blockquote class="member detail name"><div class="member detail description"> Add an event listener.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">listener</code><span class="separator"> - </span><span class="description">The listener to add.</span></dd><dd class="item"><code class="name">addToWeakSet</code><span class="separator"> - </span><span class="description">If this is true the listener will be added to an internal
WeakSet. This means that if no other object is referring to that listener it will
eventually be garbage collected and removed from the list.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="close:" id="close:"/><div class="member detail outer"><h3 class="member detail name">close</h3><pre class="member detail synopsis">public void close()</pre><blockquote class="member detail name"><div class="member detail description"> Close the EventDispatcher.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="dispatch:Event" id="dispatch:Event"/><div class="member detail outer"><h3 class="member detail name">dispatch</h3><pre class="member detail synopsis">public void dispatch(<a href="../../ewe/ui/Event.html" title="Class in ewe.ui">Event</a> ev)</pre><blockquote class="member detail name"><div class="member detail description"> Send off the event to the listeners. This is done via a separate thread unless
 dontUseSeparateThread is true, in which case the onEvent() method of each
 listener is called directly.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">ev</code><span class="separator"> - </span><span class="description">the event to send.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="doRun:" id="doRun:"/><div class="member detail outer"><h3 class="member detail name">doRun</h3><pre class="member detail synopsis">protected final void doRun()</pre><blockquote class="member detail name"><div class="member detail description"> Override this method if you want to use an mThread to run your Task. Otherwise
 if you are using timers or callbacks, override the doStart() method.
</div><dl class="member detail overridden list"><dt class="member detail overridden header"><b>Overrides:</b></dt><dd class="member detail overridden item"><a href="../../ewe/sys/TaskObject.html#doRun:">doRun</a> in interface <a href="../../ewe/sys/TaskObject.html" title="Class in ewe.sys">TaskObject</a></dd></dl><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="finalize:" id="finalize:"/><div class="member detail outer"><h3 class="member detail name">finalize</h3><pre class="member detail synopsis">public void finalize()</pre><blockquote class="member detail name"><div class="member detail description"> This method (when overriden), will be called when the VM determines that the Object can be
 garbage collected. Any action can be taken by the finalize() method, including making the Object
 available to other Threads (which would stop the garbage collection of the Object).<p/>
 The finalize() method of a Class is only called if it overrides finalize() - the finalize() method
 java.lang.Object is never called by the Ewe VM.<p/>
 Note that under a native Ewe VM, the call to finalize() will be synchronized with the Ewe library,
 but under a Java VM, the finalize() method may be called by a separate Thread that is not synchronized
 with the Ewe library. To ensure that the execution of the finalize() method is sychronized with the
 Ewe library your finalize() method should look like this:<p/>
 <pre>
 protected void finalize()
 {
   synchronized(ewe.sys.Vm.getSyncObject()){
   //
   // Put your finalize() code here.
   //
   }
 }
 </pre>
 Under Ewe the synchronized keyword is silently ignored.
</div><dl class="member detail overridden list"><dt class="member detail overridden header"><b>Overrides:</b></dt><dd class="member detail overridden item"><a href="../../java/lang/Object.html#finalize:">finalize</a> in interface <a href="../../java/lang/Object.html" title="Class in java.lang">Object</a></dd></dl><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="getCurrentListeners:Vector" id="getCurrentListeners:Vector"/><div class="member detail outer"><h3 class="member detail name">getCurrentListeners</h3><pre class="member detail synopsis">public <a href="../../ewe/util/Vector.html" title="Class in ewe.util">Vector</a> getCurrentListeners(<a href="../../ewe/util/Vector.html" title="Class in ewe.util">Vector</a> destination)</pre><blockquote class="member detail name"><div class="member detail description"> Get all current listeners.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">destination</code><span class="separator"> - </span><span class="description">A destination Vector, which will be cleared first, to hold the listeners. This can be null in which case a new one will be created.</span></dd></dl></div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">The destination or new Vector containing all active listeners.</dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="isEmpty:" id="isEmpty:"/><div class="member detail outer"><h3 class="member detail name">isEmpty</h3><pre class="member detail synopsis">public boolean isEmpty()</pre><blockquote class="member detail name"><div class="member detail description"> Check if there are any listeners in the Dispatcher. If this returns
 true it indicates that there are definitely no listeners. If it returns
 false it indicates that there <b>may</b> be some listeners.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="removeListener:EventListener" id="removeListener:EventListener"/><div class="member detail outer"><h3 class="member detail name">removeListener</h3><pre class="member detail synopsis">public void removeListener(<a href="../../ewe/ui/EventListener.html" title="Interface in ewe.ui">EventListener</a> listener)</pre><blockquote class="member detail name"><div class="member detail description"> Remove an event listener.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">listener</code><span class="separator"> - </span><span class="description">The listener to remove.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><p class="navbar bottom spacer"> </p><table class="navbar div bottom"><tr><td><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td></tr></table><hr/>Copyright &copy; 2008 <a href="mailto:miros-discuss@mirbsd.de">The MirOS Project</a> and its contributors.</body></html>