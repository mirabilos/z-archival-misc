<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//gnu.org///DTD XHTML 1.1 plus Target 1.0//EN" "../../resources/xhtml11-target10.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>MemoryStream</title><script src="../../resources/gjdoc.js" type="text/javascript"><!-- this comment required for konqueror 3.2.2 --></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="generator" content="GNU Gjdoc Standard Doclet"/><meta name="keywords" content="ewe.io.MemoryStream class"/><meta name="keywords" content="readOnly"/><meta name="keywords" content="writeOnly"/><meta name="keywords" content="useBackgroundThread"/><meta name="keywords" content="backgroundLock"/><meta name="keywords" content="flushStream()"/><meta name="keywords" content="generateError()"/><meta name="keywords" content="loadAndPutDataBlock()"/><meta name="keywords" content="takeAndUseDataBlock()"/><meta name="keywords" content="run()"/><meta name="keywords" content="getMoreData()"/><meta name="keywords" content="useMoreData()"/><meta name="keywords" content="noMoreDataToTake()"/><meta name="keywords" content="sizeOfBuffer()"/><meta name="keywords" content="getFromBuffer()"/><meta name="keywords" content="nonBlockingRead()"/><meta name="keywords" content="putInBuffer()"/><meta name="keywords" content="nonBlockingWrite()"/><meta name="keywords" content="closeStream()"/><meta name="keywords" content="pipe()"/><meta name="keywords" content="pipe2()"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-layout.css" title="GNU Clean"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-color1.css" title="GNU Clean"/></head><body class="content class" onload="if(parent.contentPageLoaded)parent.contentPageLoaded(document.title)"><table class="navbar div top"><tr><td class="navbar div top"><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td><td class="header" rowspan="2">MirEwe 1.49mb4 API</td></tr><tr><td class="navi"><a href="../../ewe/io/MemoryFile.html">Prev Class</a> | <a href="../../ewe/io/ObjectStreamException.html">Next Class</a></td><td class="navi"><a href="../../index.html" title="Show in a frameset" target="_top">Frames</a> | <a href="MemoryStream.html" title="Show without frames" target="_top">No Frames</a> </td></tr><tr><td class="navi">Summary: Nested | <a href="#summary-fields">Field</a> | <a href="#summary-methods">Method</a> | <a href="#summary-constructors">Constr</a></td><td class="navi">Detail: Nested | <a href="#detail-fields">Field</a> | <a href="#detail-methods">Method</a> | <a href="#detail-constructors">Constr</a></td></tr></table><div class="class title outer"><h3 class="class title-package">ewe.io</h3><h1 class="class title-class">Class MemoryStream</h1></div><div class="class inheritance-tree"><ul class="inheritance 0"><li class="inheritance 0"><code><a href="../../java/lang/Object.html">java.lang.Object</a></code></li><li><ul class="inheritance 1"><li class="inheritance 1"><code><a href="../../ewe/util/Errorable.html">ewe.util.Errorable</a></code></li><li><ul class="inheritance 2"><li class="inheritance 2"><code><a href="../../ewe/io/BasicStreamObject.html">ewe.io.BasicStreamObject</a></code></li><li><ul class="inheritance 3"><li class="inheritance 3"><code><a href="../../ewe/io/StreamObject.html">ewe.io.StreamObject</a></code></li><li><ul class="inheritance 4"><li class="inheritance 4"><code>ewe.io.MemoryStream</code></li><li></li></ul></li></ul></li></ul></li></ul></li></ul></div><dl class="class knownimplementing"><dt class="header"><b>Implemented Interfaces:</b></dt><dd class="item"><a href="../../ewe/io/BasicStream.html" title="Interface in ewe.io">BasicStream</a>, <a href="../../java/lang/Runnable.html" title="Interface in java.lang">Runnable</a>, <a href="../../ewe/io/Stream.html" title="Interface in ewe.io">Stream</a>, <a href="../../ewe/io/Streamable.html" title="Interface in ewe.io">Streamable</a></dd></dl><hr/><div class="class synopsis outer"><div class="class synopsis declaration"><code>public class <b class="class synopsis name">MemoryStream</b></code></div><div class="class synopsis superclass"><code>extends <a href="../../ewe/io/StreamObject.html" title="Class in ewe.io">StreamObject</a></code></div><div class="class synopsis implements"><code>implements <a href="../../java/lang/Runnable.html" title="Interface in java.lang">Runnable</a></code></div></div><hr/><div class="class description"> A MemoryStream is a Stream that stores all data written to it using standard Stream write() calls,
 in an array of bytes and then allows that data to be read out again, usually
 through standard Stream read() calls. Essentially a memory pipe.<p/>
 You can also use it to provide a standard Streaming interface to a non-Streaming
 data source/sink, by setting it to be read-only/write-only and overriding the
 methods that provide or use the data.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><a name="summary-fields" id="summary-fields"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Field Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  <a href="../../ewe/sys/Lock.html" title="Class in ewe.sys">Lock</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#backgroundLock">backgroundLock</a></code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#readOnly">readOnly</a></code></dt><dd class="description"> Set this true to allow for read() calls only.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#useBackgroundThread">useBackgroundThread</a></code></dt><dd class="description"> Set this true to allow the getMoreData() method to start and control a background thread
 for retrieving data for reading.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#writeOnly">writeOnly</a></code></dt><dd class="description"> Set this true to allow for write() calls only.</dd></dl></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Fields inherited from class ewe.io.<a href="../../ewe/io/StreamObject.html" title="Class in ewe.io">StreamObject</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/io/StreamObject.html#READWRITE_CLOSED"><code class="member">READWRITE_CLOSED</code></a>, <a href="../../ewe/io/StreamObject.html#READWRITE_ERROR"><code class="member">READWRITE_ERROR</code></a>, <a href="../../ewe/io/StreamObject.html#READWRITE_WOULDBLOCK"><code class="member">READWRITE_WOULDBLOCK</code></a>, <a href="../../ewe/io/StreamObject.html#napIterations"><code class="member">napIterations</code></a>, <a href="../../ewe/io/StreamObject.html#napTime"><code class="member">napTime</code></a></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Fields inherited from class ewe.io.<a href="../../ewe/io/BasicStreamObject.html" title="Class in ewe.io">BasicStreamObject</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/io/BasicStreamObject.html#closed"><code class="member">closed</code></a></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Fields inherited from class ewe.util.<a href="../../ewe/util/Errorable.html" title="Class in ewe.util">Errorable</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/util/Errorable.html#error"><code class="member">error</code></a></td></tr></table></dd></dl><a name="summary-constructors" id="summary-constructors"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Constructor Summary</h2></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#MemoryStream:">MemoryStream</a>()</code></dt></dl></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#MemoryStream:boolean">MemoryStream</a>(boolean&nbsp;useBackgroundThread)</code></dt><dd class="description"> Create a read-only MemoryStream that may or may not use a background thread
 for retrieving data for reading.</dd></dl></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#MemoryStream:boolean:boolean">MemoryStream</a>(boolean&nbsp;useBackgroundThread, boolean&nbsp;forReading)</code></dt><dd class="description"> Create a uni-directional MemoryStream that may or may not use a background thread
 for retrieving data for reading/writing.</dd></dl></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#MemoryStream:int">MemoryStream</a>(int&nbsp;maxCapacity)</code></dt></dl></td></tr></table></dd></dl><a name="summary-methods" id="summary-methods"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Method Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#closeStream:">closeStream</a>()</code></dt><dd class="description"> This is non-blocking.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#flushStream:">flushStream</a>()</code></dt><dd class="description"> This is non-blocking.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#generateError:String">generateError</a>(<a href="../../java/lang/String.html" title="Class in java.lang">String</a>&nbsp;message)</code></dt><dd class="description"> Cause an error to be generated on the Stream.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  byte[]</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getFromBuffer:">getFromBuffer</a>()</code></dt><dd class="description"> Get a all the bytes from the internal data buffer.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getFromBuffer:byte-:int:int">getFromBuffer</a>(byte[]&nbsp;buff, int&nbsp;start, int&nbsp;count)</code></dt><dd class="description"> Get a number of bytes from the internal data buffer.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getMoreData:">getMoreData</a>()</code></dt><dd class="description"> Override this method if you are implementing a read-only Stream, but are not using
 a background thread to do so.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#loadAndPutDataBlock:">loadAndPutDataBlock</a>()</code></dt><dd class="description"> Override this method if you are using a background thread to get data from a source to
 place in the stream's buffer for reading.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#noMoreDataToTake:">noMoreDataToTake</a>()</code></dt><dd class="description"> If this is a write-only Stream, this method is called when the Stream has been closed
 and there will be no more data to take.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#nonBlockingRead:byte-:int:int">nonBlockingRead</a>(byte[]&nbsp;buff, int&nbsp;start, int&nbsp;count)</code></dt><dd class="description"> This is the non-blocking read operation.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#nonBlockingWrite:byte-:int:int">nonBlockingWrite</a>(byte[]&nbsp;buff, int&nbsp;start, int&nbsp;count)</code></dt><dd class="description"> This is the non-blocking write operation.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static <a href="../../java/lang/Object.html" title="Class in java.lang">Object</a>[]</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#pipe:">pipe</a>()</code></dt><dd class="description"> Create a MemoryStream and return an InputStream and an OutputStream for it.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static <a href="../../ewe/io/Stream.html" title="Interface in ewe.io">Stream</a>[]</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#pipe2:">pipe2</a>()</code></dt><dd class="description"> Create two Streams that represent either end of a memory based communication stream.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#putInBuffer:byte-:int:int">putInBuffer</a>(byte[]&nbsp;buff, int&nbsp;start, int&nbsp;count)</code></dt><dd class="description"> Use this to put data into the buffer, for later reading out.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#run:">run</a>()</code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#sizeOfBuffer:">sizeOfBuffer</a>()</code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#takeAndUseDataBlock:">takeAndUseDataBlock</a>()</code></dt><dd class="description">Override this method if you are using a background thread to use data written into the buffer
 place in the stream's buffer for reading.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#useMoreData:">useMoreData</a>()</code></dt><dd class="description">Override this method if you are implementing a wite-only Stream, but are not using
a background thread to do so.</dd></dl></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class ewe.io.<a href="../../ewe/io/StreamObject.html" title="Class in ewe.io">StreamObject</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/io/StreamObject.html#close:" title="close()"><code class="member">close</code></a>, <a href="../../ewe/io/StreamObject.html#closeStream:" title="closeStream()"><code class="member">closeStream</code></a>, <a href="../../ewe/io/StreamObject.html#doRead:byte-:int:int:IOHandle:boolean" title="doRead(byte[],int,int,IOHandle,boolean)"><code class="member">doRead</code></a>, <a href="../../ewe/io/StreamObject.html#doWrite:byte-:int:int:IOHandle" title="doWrite(byte[],int,int,IOHandle)"><code class="member">doWrite</code></a>, <a href="../../ewe/io/StreamObject.html#flush:" title="flush()"><code class="member">flush</code></a>, <a href="../../ewe/io/StreamObject.html#isOpen:" title="isOpen()"><code class="member">isOpen</code></a>, <a href="../../ewe/io/StreamObject.html#nap:" title="nap()"><code class="member">nap</code></a>, <a href="../../ewe/io/StreamObject.html#nap:boolean" title="nap(boolean)"><code class="member">nap</code></a>, <a href="../../ewe/io/StreamObject.html#nonBlockingRead:byte-:int:int" title="nonBlockingRead(byte[],int,int)"><code class="member">nonBlockingRead</code></a>, <a href="../../ewe/io/StreamObject.html#nonBlockingWrite:byte-:int:int" title="nonBlockingWrite(byte[],int,int)"><code class="member">nonBlockingWrite</code></a>, <a href="../../ewe/io/StreamObject.html#read:buff-:int:int" title="read(buff[],int,int)"><code class="member">read</code></a>, <a href="../../ewe/io/StreamObject.html#readAByte:" title="readAByte()"><code class="member">readAByte</code></a>, <a href="../../ewe/io/StreamObject.html#readBytes:byte-:int:int" title="readBytes(byte[],int,int)"><code class="member">readBytes</code></a>, <a href="../../ewe/io/StreamObject.html#readBytes:byte-:int:int:IOHandle:boolean" title="readBytes(byte[],int,int,IOHandle,boolean)"><code class="member">readBytes</code></a>, <a href="../../ewe/io/StreamObject.html#waitUntilReady:boolean" title="waitUntilReady(boolean)"><code class="member">waitUntilReady</code></a>, <a href="../../ewe/io/StreamObject.html#waitUntilReady:boolean:int" title="waitUntilReady(boolean,int)"><code class="member">waitUntilReady</code></a>, <a href="../../ewe/io/StreamObject.html#write:buff-:int:int" title="write(buff[],int,int)"><code class="member">write</code></a>, <a href="../../ewe/io/StreamObject.html#writeAByte:byte" title="writeAByte(byte)"><code class="member">writeAByte</code></a>, <a href="../../ewe/io/StreamObject.html#writeBytes:byte-:int:int" title="writeBytes(byte[],int,int)"><code class="member">writeBytes</code></a>, <a href="../../ewe/io/StreamObject.html#writeBytes:byte-:int:int:IOHandle" title="writeBytes(byte[],int,int,IOHandle)"><code class="member">writeBytes</code></a></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class ewe.io.<a href="../../ewe/io/BasicStreamObject.html" title="Class in ewe.io">BasicStreamObject</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/io/BasicStreamObject.html#getException:String" title="getException(String)"><code class="member">getException</code></a>, <a href="../../ewe/io/BasicStreamObject.html#getName:" title="getName()"><code class="member">getName</code></a>, <a href="../../ewe/io/BasicStreamObject.html#read:" title="read()"><code class="member">read</code></a>, <a href="../../ewe/io/BasicStreamObject.html#read:buff-" title="read(buff[])"><code class="member">read</code></a>, <a href="../../ewe/io/BasicStreamObject.html#throwIOException:String" title="throwIOException(String)"><code class="member">throwIOException</code></a>, <a href="../../ewe/io/BasicStreamObject.html#toInputStream:" title="toInputStream()"><code class="member">toInputStream</code></a>, <a href="../../ewe/io/BasicStreamObject.html#toOutputStream:" title="toOutputStream()"><code class="member">toOutputStream</code></a>, <a href="../../ewe/io/BasicStreamObject.html#toStream:boolean:String" title="toStream(boolean,String)"><code class="member">toStream</code></a>, <a href="../../ewe/io/BasicStreamObject.html#write:buff-" title="write(buff[])"><code class="member">write</code></a>, <a href="../../ewe/io/BasicStreamObject.html#write:int" title="write(int)"><code class="member">write</code></a></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class ewe.util.<a href="../../ewe/util/Errorable.html" title="Class in ewe.util">Errorable</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/util/Errorable.html#returnError:String:boolean" title="returnError(String,boolean)"><code class="member">returnError</code></a>, <a href="../../ewe/util/Errorable.html#returnError:String:int" title="returnError(String,int)"><code class="member">returnError</code></a>, <a href="../../ewe/util/Errorable.html#returnError:String:Object" title="returnError(String,Object)"><code class="member">returnError</code></a></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class java.lang.<a href="../../java/lang/Object.html" title="Class in java.lang">Object</a></h3></td></tr><tr><td class="inherited"><a href="../../java/lang/Object.html#clone:" title="clone()"><code class="member">clone</code></a>, <a href="../../java/lang/Object.html#equals:Object" title="equals(Object)"><code class="member">equals</code></a>, <a href="../../java/lang/Object.html#finalize:" title="finalize()"><code class="member">finalize</code></a>, <a href="../../java/lang/Object.html#getClass:" title="getClass()"><code class="member">getClass</code></a>, <a href="../../java/lang/Object.html#hashCode:" title="hashCode()"><code class="member">hashCode</code></a>, <a href="../../java/lang/Object.html#toString:" title="toString()"><code class="member">toString</code></a></td></tr></table></dd></dl><a name="detail-fields" id="detail-fields"/><h2 class="section header">Field Details</h2><div class="section"><a name="backgroundLock" id="backgroundLock"/><div class="member detail outer"><h3 class="member detail name">backgroundLock</h3><pre class="member detail synopsis">protected <a href="../../ewe/sys/Lock.html" title="Class in ewe.sys">Lock</a> backgroundLock</pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="readOnly" id="readOnly"/><div class="member detail outer"><h3 class="member detail name">readOnly</h3><pre class="member detail synopsis">protected boolean readOnly</pre><blockquote class="member detail name"><div class="member detail description"> Set this true to allow for read() calls only. You will then have to place data
 into the Stream directly using putInBuffer().
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="useBackgroundThread" id="useBackgroundThread"/><div class="member detail outer"><h3 class="member detail name">useBackgroundThread</h3><pre class="member detail synopsis">protected boolean useBackgroundThread</pre><blockquote class="member detail name"><div class="member detail description"> Set this true to allow the getMoreData() method to start and control a background thread
 for retrieving data for reading. If you set this true then you must override the loadAndPutDataBlock()
 method.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="writeOnly" id="writeOnly"/><div class="member detail outer"><h3 class="member detail name">writeOnly</h3><pre class="member detail synopsis">protected boolean writeOnly</pre><blockquote class="member detail name"><div class="member detail description"> Set this true to allow for write() calls only. You will then have to read data
 from the Stream directly using getFromBuffer().
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-constructors" id="detail-constructors"/><h2 class="section header">Constructor Details</h2><div class="section"><a name="MemoryStream:" id="MemoryStream:"/><div class="member detail outer"><h3 class="member detail name">MemoryStream</h3><pre class="member detail synopsis">public MemoryStream()</pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="MemoryStream:boolean" id="MemoryStream:boolean"/><div class="member detail outer"><h3 class="member detail name">MemoryStream</h3><pre class="member detail synopsis">public MemoryStream(boolean useBackgroundThread)</pre><blockquote class="member detail name"><div class="member detail description"> Create a read-only MemoryStream that may or may not use a background thread
 for retrieving data for reading.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">useBackgroundThread</code><span class="separator"> - </span><span class="description">if this is true then a background thread will be used
to load data for reading. In that case the loadAndPutDataBlock() method must be overridden.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="MemoryStream:boolean:boolean" id="MemoryStream:boolean:boolean"/><div class="member detail outer"><h3 class="member detail name">MemoryStream</h3><pre class="member detail synopsis">public MemoryStream(boolean useBackgroundThread,
                    boolean forReading)</pre><blockquote class="member detail name"><div class="member detail description"> Create a uni-directional MemoryStream that may or may not use a background thread
 for retrieving data for reading/writing.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">useBackgroundThread</code><span class="separator"> - </span><span class="description">if this is true then a background thread will be used
to load data for reading or to accept data that's been written.
In that case the loadAndPutDataBlock() method OR takeAndUseDataBlock() method must be overridden.</span></dd><dd class="item"><code class="name">forReading</code><span class="separator"> - </span><span class="description">true for read-only stream, false for a write-only stream.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="MemoryStream:int" id="MemoryStream:int"/><div class="member detail outer"><h3 class="member detail name">MemoryStream</h3><pre class="member detail synopsis">public MemoryStream(int maxCapacity)</pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-methods" id="detail-methods"/><h2 class="section header">Method Details</h2><div class="section"><a name="closeStream:" id="closeStream:"/><div class="member detail outer"><h3 class="member detail name">closeStream</h3><pre class="member detail synopsis">public boolean closeStream()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> This is non-blocking. It returns true if the close completed, false if it did not,
 or throws an exception on error.
</div><dl class="member detail specified by list"><dt class="member detail specified by header"><b>Specified by:</b></dt><dd class="member detail specified by item"><a href="../../ewe/io/BasicStream.html#closeStream:">closeStream</a> in interface <a href="../../ewe/io/BasicStream.html" title="Interface in ewe.io">BasicStream</a></dd></dl><dl class="member detail overridden list"><dt class="member detail overridden header"><b>Overrides:</b></dt><dd class="member detail overridden item"><a href="../../ewe/io/StreamObject.html#closeStream:">closeStream</a> in interface <a href="../../ewe/io/StreamObject.html" title="Class in ewe.io">StreamObject</a></dd></dl><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="flushStream:" id="flushStream:"/><div class="member detail outer"><h3 class="member detail name">flushStream</h3><pre class="member detail synopsis">public boolean flushStream()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> This is non-blocking. It returns true if the flush completed, false if it did not,
 or throws an exception on error.
</div><dl class="member detail specified by list"><dt class="member detail specified by header"><b>Specified by:</b></dt><dd class="member detail specified by item"><a href="../../ewe/io/BasicStream.html#flushStream:">flushStream</a> in interface <a href="../../ewe/io/BasicStream.html" title="Interface in ewe.io">BasicStream</a></dd></dl><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="generateError:String" id="generateError:String"/><div class="member detail outer"><h3 class="member detail name">generateError</h3><pre class="member detail synopsis">public int generateError(<a href="../../java/lang/String.html" title="Class in java.lang">String</a> message)</pre><blockquote class="member detail name"><div class="member detail description"> Cause an error to be generated on the Stream.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="getFromBuffer:" id="getFromBuffer:"/><div class="member detail outer"><h3 class="member detail name">getFromBuffer</h3><pre class="member detail synopsis">protected byte[] getFromBuffer()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> Get a all the bytes from the internal data buffer. The data in the buffer would
 have been placed usually with a write() operation.
</div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">an array of bytes from the buffer. If there were no bytes in the buffer the returned
array will be empty.</dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if the Stream has been flagged with an error.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="getFromBuffer:byte-:int:int" id="getFromBuffer:byte-:int:int"/><div class="member detail outer"><h3 class="member detail name">getFromBuffer</h3><pre class="member detail synopsis">protected int getFromBuffer(byte[] buff,
                            int start,
                            int count)
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> Get a number of bytes from the internal data buffer. The data in the buffer would
 have been placed usually with a write() operation. Use sizeOfBuffer() to determine how
 many bytes are waiting in the buffer.
</div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the number of bytes read from the buffer.</dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if the Stream has been flagged with an error.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="getMoreData:" id="getMoreData:"/><div class="member detail outer"><h3 class="member detail name">getMoreData</h3><pre class="member detail synopsis">protected void getMoreData()</pre><blockquote class="member detail name"><div class="member detail description"> Override this method if you are implementing a read-only Stream, but are not using
 a background thread to do so. It is called if a read() has
 been called but there is no data in the buffer left to read. <b>This method should
 be non-blocking</b>. If necessary start a new thread to fetch more data and put it
 in the buffer using putInBuffer(). If that thread determines there is no more data
 it should call close(). The default implmentation of this will generate an error if
 this Stream is marked as readOnly.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="loadAndPutDataBlock:" id="loadAndPutDataBlock:"/><div class="member detail outer"><h3 class="member detail name">loadAndPutDataBlock</h3><pre class="member detail synopsis">protected boolean loadAndPutDataBlock()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> Override this method if you are using a background thread to get data from a source to
 place in the stream's buffer for reading. This method should block until at least one byte
 of data has been read and placed in the buffer using putInBuffer(). If there is no more
 data to read the method should return false. If an IOException occurs it should throw it.
</div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">true if data was loaded and placed in the buffer, false if there is no more data.</dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if an error occured retrieving the data.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="noMoreDataToTake:" id="noMoreDataToTake:"/><div class="member detail outer"><h3 class="member detail name">noMoreDataToTake</h3><pre class="member detail synopsis">protected void noMoreDataToTake()</pre><blockquote class="member detail name"><div class="member detail description"> If this is a write-only Stream, this method is called when the Stream has been closed
 and there will be no more data to take. It effectively notifies an end of incoming data.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="nonBlockingRead:byte-:int:int" id="nonBlockingRead:byte-:int:int"/><div class="member detail outer"><h3 class="member detail name">nonBlockingRead</h3><pre class="member detail synopsis">public int nonBlockingRead(byte[] buff,
                           int start,
                           int count)</pre><blockquote class="member detail name"><div class="member detail description"> This is the non-blocking read operation. It should never attempt to
 wait() or sleep() in a Coroutine. It should return as quickly as possible.
 This makes it safe to be called from within a native method.
 Note that this should NEVER be called with a count of zero.
</div><dl class="member detail specified by list"><dt class="member detail specified by header"><b>Specified by:</b></dt><dd class="member detail specified by item"><a href="../../ewe/io/BasicStream.html#nonBlockingRead:byte-:int:int">nonBlockingRead</a> in interface <a href="../../ewe/io/BasicStream.html" title="Interface in ewe.io">BasicStream</a></dd></dl><dl class="member detail overridden list"><dt class="member detail overridden header"><b>Overrides:</b></dt><dd class="member detail overridden item"><a href="../../ewe/io/StreamObject.html#nonBlockingRead:byte-:int:int">nonBlockingRead</a> in interface <a href="../../ewe/io/StreamObject.html" title="Class in ewe.io">StreamObject</a></dd></dl><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">buff</code><span class="separator"> - </span><span class="description">Destination byte array to hold incoming data.</span></dd><dd class="item"><code class="name">start</code><span class="separator"> - </span><span class="description">Starting index in buff for incoming data.</span></dd><dd class="item"><code class="name">count</code><span class="separator"> - </span><span class="description">Maximum number of bytes to read - should never be zero.</span></dd></dl></div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">greater than 0 = Number of bytes read. <br/>
0 = No bytes available to read at this time.<br/>
-1 = Stream end reached no further bytes to read.<br/>
-2 = IO Error.<br/></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="nonBlockingWrite:byte-:int:int" id="nonBlockingWrite:byte-:int:int"/><div class="member detail outer"><h3 class="member detail name">nonBlockingWrite</h3><pre class="member detail synopsis">public int nonBlockingWrite(byte[] buff,
                            int start,
                            int count)</pre><blockquote class="member detail name"><div class="member detail description"> This is the non-blocking write operation. It should never attempt to
 wait() or sleep() in a Coroutine. It should return as quickly as possible.
 This makes it safe to be called from within a native method.
</div><dl class="member detail specified by list"><dt class="member detail specified by header"><b>Specified by:</b></dt><dd class="member detail specified by item"><a href="../../ewe/io/BasicStream.html#nonBlockingWrite:byte-:int:int">nonBlockingWrite</a> in interface <a href="../../ewe/io/BasicStream.html" title="Interface in ewe.io">BasicStream</a></dd></dl><dl class="member detail overridden list"><dt class="member detail overridden header"><b>Overrides:</b></dt><dd class="member detail overridden item"><a href="../../ewe/io/StreamObject.html#nonBlockingWrite:byte-:int:int">nonBlockingWrite</a> in interface <a href="../../ewe/io/StreamObject.html" title="Class in ewe.io">StreamObject</a></dd></dl><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">buff</code><span class="separator"> - </span><span class="description">Source byte array holding data to be written.</span></dd><dd class="item"><code class="name">start</code><span class="separator"> - </span><span class="description">Starting index in buff for data to be written.</span></dd><dd class="item"><code class="name">count</code><span class="separator"> - </span><span class="description">Number of bytes to write - should never be zero.</span></dd></dl></div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">greater than 0 = Number of bytes actually written.<br/>
0 = No bytes could be written yet - but the stream is still open.<br/>
-1 = Stream has been closed - no further writes are possible.<br/>
-2 = IO error .<br/></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="pipe:" id="pipe:"/><div class="member detail outer"><h3 class="member detail name">pipe</h3><pre class="member detail synopsis">public static <a href="../../java/lang/Object.html" title="Class in java.lang">Object</a>[] pipe()</pre><blockquote class="member detail name"><div class="member detail description"> Create a MemoryStream and return an InputStream and an OutputStream for it. Any data
 written to the OutputStream will be read by the InputStream.
</div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">an array of two object - the one at index 0 will be an InputStream and the one
at index 1 will be the OutputStream.</dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="pipe2:" id="pipe2:"/><div class="member detail outer"><h3 class="member detail name">pipe2</h3><pre class="member detail synopsis">public static <a href="../../ewe/io/Stream.html" title="Interface in ewe.io">Stream</a>[] pipe2()</pre><blockquote class="member detail name"><div class="member detail description"> Create two Streams that represent either end of a memory based communication stream.
 Data written to one Stream can be read by the other.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="putInBuffer:byte-:int:int" id="putInBuffer:byte-:int:int"/><div class="member detail outer"><h3 class="member detail name">putInBuffer</h3><pre class="member detail synopsis">protected void putInBuffer(byte[] buff,
                           int start,
                           int count)
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> Use this to put data into the buffer, for later reading out.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="run:" id="run:"/><div class="member detail outer"><h3 class="member detail name">run</h3><pre class="member detail synopsis">public void run()</pre><blockquote class="member detail name"><div class="member detail description"></div><dl class="member detail specified by list"><dt class="member detail specified by header"><b>Specified by:</b></dt><dd class="member detail specified by item"><a href="../../java/lang/Runnable.html#run:">run</a> in interface <a href="../../java/lang/Runnable.html" title="Interface in java.lang">Runnable</a></dd></dl><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="sizeOfBuffer:" id="sizeOfBuffer:"/><div class="member detail outer"><h3 class="member detail name">sizeOfBuffer</h3><pre class="member detail synopsis">protected int sizeOfBuffer()</pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="takeAndUseDataBlock:" id="takeAndUseDataBlock:"/><div class="member detail outer"><h3 class="member detail name">takeAndUseDataBlock</h3><pre class="member detail synopsis">protected boolean takeAndUseDataBlock()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description">Override this method if you are using a background thread to use data written into the buffer
 place in the stream's buffer for reading. This method should block until at least one byte
 of data has been read and placed in the buffer using putInBuffer(). If there is no more
 data to read the method should return false. If an IOException occurs it should throw it.
</div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">true if data was loaded and placed in the buffer, false if there is no more data.</dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if an error occured retrieving the data.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="useMoreData:" id="useMoreData:"/><div class="member detail outer"><h3 class="member detail name">useMoreData</h3><pre class="member detail synopsis">protected void useMoreData()</pre><blockquote class="member detail name"><div class="member detail description">Override this method if you are implementing a wite-only Stream, but are not using
a background thread to do so. It is called when a write() operation has been called
placing data in the buffer. You should use the sizeOfBuffer() method and then the getFromBuffer()
method to take the data out of the buffer.<p/>
<b>This method should be non-blocking</b>. If necessary start a new thread to
take the data out of the buffer so that this thread can return.
The default implmentation of this will generate an error ifthis Stream is marked as writeOnly.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><p class="navbar bottom spacer"> </p><table class="navbar div bottom"><tr><td><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td></tr></table><hr/>Copyright &copy; 2008 <a href="mailto:miros-discuss@mirbsd.de">The MirOS Project</a> and its contributors.</body></html>