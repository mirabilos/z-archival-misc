<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//gnu.org///DTD XHTML 1.1 plus Target 1.0//EN" "../../resources/xhtml11-target10.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>StreamScanner</title><script src="../../resources/gjdoc.js" type="text/javascript"><!-- this comment required for konqueror 3.2.2 --></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="generator" content="GNU Gjdoc Standard Doclet"/><meta name="keywords" content="ewe.io.StreamScanner class"/><meta name="keywords" content="bufferSize"/><meta name="keywords" content="waitTime"/><meta name="keywords" content="shouldStop"/><meta name="keywords" content="linesRead"/><meta name="keywords" content="preprocessLine"/><meta name="keywords" content="startScanning()"/><meta name="keywords" content="lineReceived()"/><meta name="keywords" content="parseError()"/><meta name="keywords" content="lineParsed()"/><meta name="keywords" content="addFormat()"/><meta name="keywords" content="readMore()"/><meta name="keywords" content="readLine()"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-layout.css" title="GNU Clean"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-color1.css" title="GNU Clean"/></head><body class="content class" onload="if(parent.contentPageLoaded)parent.contentPageLoaded(document.title)"><table class="navbar div top"><tr><td class="navbar div top"><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td><td class="header" rowspan="2">MirEwe 1.49mb4 API</td></tr><tr><td class="navi"><a href="../../ewe/io/StreamReader.html">Prev Class</a> | <a href="../../ewe/io/StreamUtils.html">Next Class</a></td><td class="navi"><a href="../../index.html" title="Show in a frameset" target="_top">Frames</a> | <a href="StreamScanner.html" title="Show without frames" target="_top">No Frames</a> </td></tr><tr><td class="navi">Summary: Nested | <a href="#summary-fields">Field</a> | <a href="#summary-methods">Method</a> | <a href="#summary-constructors">Constr</a></td><td class="navi">Detail: Nested | <a href="#detail-fields">Field</a> | <a href="#detail-methods">Method</a> | <a href="#detail-constructors">Constr</a></td></tr></table><div class="class title outer"><h3 class="class title-package">ewe.io</h3><h1 class="class title-class">Class StreamScanner</h1></div><div class="class inheritance-tree"><ul class="inheritance 0"><li class="inheritance 0"><code><a href="../../java/lang/Object.html">java.lang.Object</a></code></li><li><ul class="inheritance 1"><li class="inheritance 1"><code>ewe.io.StreamScanner</code></li><li></li></ul></li></ul></div><hr/><div class="class synopsis outer"><div class="class synopsis declaration"><code>public abstract class <b class="class synopsis name">StreamScanner</b></code></div><div class="class synopsis superclass"><code>extends <a href="../../java/lang/Object.html" title="Class in java.lang">Object</a></code></div></div><hr/><div class="class description"> A StreamScanner is used to parse and read in formatted data from a text file as
 quickly as possible. You use a StreamScanner by inheriting from it and overriding
 the lineReceived()/lineParsed() method.
<p/>
<b>Specifying Data Format</b>
<p/>
You specify the data you wish to parse as a String with a set of '%' formats separated by spaces, similar to C/C++ scanf
function. You can scan for Strings (either as fixed length Strings or individual words),
integer/long values or floating point values. The StreamScanner uses a ewe.util.DataParser
object for line scanning and so the format string specifications can be found in the API for
ewe.util.DataParser.
<p/>
<b>Scanning the Data</b>
<p/>
The startScanning() method is used to begin the scan operation from the Stream. Before doing
this you must register the different scanning formats that you will use on the file. You do
this be calling addFormat(). Each format is given a new unique integer id that can be used
to identify that format. Note that using the standard constructor you can provide one format
at that time (which will usually be all you need).
<p/>
<b>Retrieving Scanned Data</b>
<p/>
After parsing each line of text the lineParsed() method is called. This provides an array of
Objects that hold the parsed data (but no entries will provided for skipped data). Each element
will either be a ewe.sys.Long object (for integer values) or a ewe.sys.Double object
(for floating point numbers) or a SubString object.
<p/>
If the preprocessLine variable is set true, then before a parse is done the lineReceived() method
is called. This should return a format code to indicate which format to use or 0 to indicate
that this line should be skipped.
<p/>
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><a name="summary-fields" id="summary-fields"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Field Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#bufferSize">bufferSize</a></code></dt><dd class="description"> This is the buffer size to use when reading.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> long</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#linesRead">linesRead</a></code></dt><dd class="description"> This indicates how many lines have been read since startScanning() was called.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#preprocessLine">preprocessLine</a></code></dt><dd class="description"> Set this true to indicate that the lineReceived() method should be called prior to parsing
 the line.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#shouldStop">shouldStop</a></code></dt><dd class="description"> Set this true to tell the StreamScanner to stop scanning.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#waitTime">waitTime</a></code></dt><dd class="description"> This is the length of time to wait in between calls to the nonBlockingRead() method
 of the input stream if that call should indicate no available data yet.</dd></dl></td></tr></table></dd></dl><a name="summary-constructors" id="summary-constructors"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Constructor Summary</h2></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#StreamScanner:BasicStream:String">StreamScanner</a>(<a href="../../ewe/io/BasicStream.html" title="Interface in ewe.io">BasicStream</a>&nbsp;s, <a href="../../java/lang/String.html" title="Class in java.lang">String</a>&nbsp;format)</code></dt></dl></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#StreamScanner:InputStream:String">StreamScanner</a>(<a href="../../ewe/io/InputStream.html" title="Class in ewe.io">InputStream</a>&nbsp;s, <a href="../../java/lang/String.html" title="Class in java.lang">String</a>&nbsp;format)</code></dt></dl></td></tr></table></dd></dl><a name="summary-methods" id="summary-methods"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Method Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#addFormat:String">addFormat</a>(<a href="../../java/lang/String.html" title="Class in java.lang">String</a>&nbsp;format)</code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected abstract void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#lineParsed:int:Object-">lineParsed</a>(int&nbsp;format, <a href="../../java/lang/Object.html" title="Class in java.lang">Object</a>[]&nbsp;parsedValues)</code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#lineReceived:byte-:int:int">lineReceived</a>(byte[]&nbsp;buffer, int&nbsp;lineStart, int&nbsp;lineLength)</code></dt><dd class="description"> If preprocessLine is true, this method is called after each line is read.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#parseError:Exception:int:byte-:int:int">parseError</a>(<a href="../../java/lang/Exception.html" title="Class in java.lang">Exception</a>&nbsp;e, int&nbsp;format, byte[]&nbsp;buffer, int&nbsp;lineStart, int&nbsp;lineLength)</code></dt><dd class="description"> This method is called if there is an error parsing a line.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#readLine:">readLine</a>()</code></dt><dd class="description"> This reads in a line of text.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#readMore:">readMore</a>()</code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> long</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#startScanning:">startScanning</a>()</code></dt></dl></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class java.lang.<a href="../../java/lang/Object.html" title="Class in java.lang">Object</a></h3></td></tr><tr><td class="inherited"><a href="../../java/lang/Object.html#clone:" title="clone()"><code class="member">clone</code></a>, <a href="../../java/lang/Object.html#equals:Object" title="equals(Object)"><code class="member">equals</code></a>, <a href="../../java/lang/Object.html#finalize:" title="finalize()"><code class="member">finalize</code></a>, <a href="../../java/lang/Object.html#getClass:" title="getClass()"><code class="member">getClass</code></a>, <a href="../../java/lang/Object.html#hashCode:" title="hashCode()"><code class="member">hashCode</code></a>, <a href="../../java/lang/Object.html#toString:" title="toString()"><code class="member">toString</code></a></td></tr></table></dd></dl><a name="detail-fields" id="detail-fields"/><h2 class="section header">Field Details</h2><div class="section"><a name="bufferSize" id="bufferSize"/><div class="member detail outer"><h3 class="member detail name">bufferSize</h3><pre class="member detail synopsis">public int bufferSize</pre><blockquote class="member detail name"><div class="member detail description"> This is the buffer size to use when reading. Generally the bigger it is
 the faster reading will go.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="linesRead" id="linesRead"/><div class="member detail outer"><h3 class="member detail name">linesRead</h3><pre class="member detail synopsis">public long linesRead</pre><blockquote class="member detail name"><div class="member detail description"> This indicates how many lines have been read since startScanning() was called.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="preprocessLine" id="preprocessLine"/><div class="member detail outer"><h3 class="member detail name">preprocessLine</h3><pre class="member detail synopsis">public boolean preprocessLine</pre><blockquote class="member detail name"><div class="member detail description"> Set this true to indicate that the lineReceived() method should be called prior to parsing
 the line.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="shouldStop" id="shouldStop"/><div class="member detail outer"><h3 class="member detail name">shouldStop</h3><pre class="member detail synopsis">public boolean shouldStop</pre><blockquote class="member detail name"><div class="member detail description"> Set this true to tell the StreamScanner to stop scanning.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="waitTime" id="waitTime"/><div class="member detail outer"><h3 class="member detail name">waitTime</h3><pre class="member detail synopsis">public int waitTime</pre><blockquote class="member detail name"><div class="member detail description"> This is the length of time to wait in between calls to the nonBlockingRead() method
 of the input stream if that call should indicate no available data yet. By default it
 is 0 (which simply passes control to another thread). Set it to -1 to tell it not to wait
 at all.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-constructors" id="detail-constructors"/><h2 class="section header">Constructor Details</h2><div class="section"><a name="StreamScanner:BasicStream:String" id="StreamScanner:BasicStream:String"/><div class="member detail outer"><h3 class="member detail name">StreamScanner</h3><pre class="member detail synopsis">public StreamScanner(<a href="../../ewe/io/BasicStream.html" title="Interface in ewe.io">BasicStream</a> s,
                     <a href="../../java/lang/String.html" title="Class in java.lang">String</a> format)
            throws <a href="../../java/lang/IllegalArgumentException.html" title="Class in java.lang">IllegalArgumentException</a></pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="StreamScanner:InputStream:String" id="StreamScanner:InputStream:String"/><div class="member detail outer"><h3 class="member detail name">StreamScanner</h3><pre class="member detail synopsis">public StreamScanner(<a href="../../ewe/io/InputStream.html" title="Class in ewe.io">InputStream</a> s,
                     <a href="../../java/lang/String.html" title="Class in java.lang">String</a> format)
            throws <a href="../../java/lang/IllegalArgumentException.html" title="Class in java.lang">IllegalArgumentException</a></pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-methods" id="detail-methods"/><h2 class="section header">Method Details</h2><div class="section"><a name="addFormat:String" id="addFormat:String"/><div class="member detail outer"><h3 class="member detail name">addFormat</h3><pre class="member detail synopsis">public int addFormat(<a href="../../java/lang/String.html" title="Class in java.lang">String</a> format)
            throws <a href="../../java/lang/IllegalArgumentException.html" title="Class in java.lang">IllegalArgumentException</a></pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="lineParsed:int:Object-" id="lineParsed:int:Object-"/><div class="member detail outer"><h3 class="member detail name">lineParsed</h3><pre class="member detail synopsis">protected abstract void lineParsed(int format,
                                   <a href="../../java/lang/Object.html" title="Class in java.lang">Object</a>[] parsedValues)
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="lineReceived:byte-:int:int" id="lineReceived:byte-:int:int"/><div class="member detail outer"><h3 class="member detail name">lineReceived</h3><pre class="member detail synopsis">protected int lineReceived(byte[] buffer,
                           int lineStart,
                           int lineLength)
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> If preprocessLine is true, this method is called after each line is read.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">buffer</code><span class="separator"> - </span><span class="description">The bytes for the line.</span></dd><dd class="item"><code class="name">lineStart</code><span class="separator"> - </span><span class="description">The starting index of the bytes in the buffer.</span></dd><dd class="item"><code class="name">lineLength</code><span class="separator"> - </span><span class="description">The number of bytes in the line.</span></dd></dl></div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the integer ID of a format specification, or 0 to skip this line.</dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if parsing should stop.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="parseError:Exception:int:byte-:int:int" id="parseError:Exception:int:byte-:int:int"/><div class="member detail outer"><h3 class="member detail name">parseError</h3><pre class="member detail synopsis">protected void parseError(<a href="../../java/lang/Exception.html" title="Class in java.lang">Exception</a> e,
                          int format,
                          byte[] buffer,
                          int lineStart,
                          int lineLength)
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> This method is called if there is an error parsing a line. It should throw an IOException
 if it wishes parsing to stop. By default this does nothing.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">e</code><span class="separator"> - </span><span class="description">The exception caused by parsing the line.</span></dd><dd class="item"><code class="name">format</code><span class="separator"> - </span><span class="description">The format used for parsing.</span></dd><dd class="item"><code class="name">buffer</code><span class="separator"> - </span><span class="description">The bytes for the line.</span></dd><dd class="item"><code class="name">lineStart</code><span class="separator"> - </span><span class="description">The starting index of the bytes in the buffer.</span></dd><dd class="item"><code class="name">lineLength</code><span class="separator"> - </span><span class="description">The number of bytes in the line.</span></dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if parsing should stop.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="readLine:" id="readLine:"/><div class="member detail outer"><h3 class="member detail name">readLine</h3><pre class="member detail synopsis">public boolean readLine()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> This reads in a line of text. The line is terminated by a Line Feed (\n)
 or a Carriage Return (\r) or a CR followed by LF (\r\n). The terminating
 LF or CR is NOT returned with the string.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="readMore:" id="readMore:"/><div class="member detail outer"><h3 class="member detail name">readMore</h3><pre class="member detail synopsis">protected boolean readMore()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="startScanning:" id="startScanning:"/><div class="member detail outer"><h3 class="member detail name">startScanning</h3><pre class="member detail synopsis">public long startScanning()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><p class="navbar bottom spacer"> </p><table class="navbar div bottom"><tr><td><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td></tr></table><hr/>Copyright &copy; 2008 <a href="mailto:miros-discuss@mirbsd.de">The MirOS Project</a> and its contributors.</body></html>