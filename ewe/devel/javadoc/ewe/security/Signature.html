<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//gnu.org///DTD XHTML 1.1 plus Target 1.0//EN" "../../resources/xhtml11-target10.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>Signature</title><script src="../../resources/gjdoc.js" type="text/javascript"><!-- this comment required for konqueror 3.2.2 --></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="generator" content="GNU Gjdoc Standard Doclet"/><meta name="keywords" content="ewe.security.Signature class"/><meta name="keywords" content="signersKey"/><meta name="keywords" content="time"/><meta name="keywords" content="length"/><meta name="keywords" content="signature"/><meta name="keywords" content="sign()"/><meta name="keywords" content="addToSignature()"/><meta name="keywords" content="getSignature()"/><meta name="keywords" content="verify()"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-layout.css" title="GNU Clean"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-color1.css" title="GNU Clean"/></head><body class="content class" onload="if(parent.contentPageLoaded)parent.contentPageLoaded(document.title)"><table class="navbar div top"><tr><td class="navbar div top"><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td><td class="header" rowspan="2">MirEwe 1.49mb4 API</td></tr><tr><td class="navi"><a href="../../ewe/security/SHA1.html">Prev Class</a> | Next Class</td><td class="navi"><a href="../../index.html" title="Show in a frameset" target="_top">Frames</a> | <a href="Signature.html" title="Show without frames" target="_top">No Frames</a> </td></tr><tr><td class="navi">Summary: Nested | <a href="#summary-fields">Field</a> | <a href="#summary-methods">Method</a> | <a href="#summary-constructors">Constr</a></td><td class="navi">Detail: Nested | <a href="#detail-fields">Field</a> | <a href="#detail-methods">Method</a> | <a href="#detail-constructors">Constr</a></td></tr></table><div class="class title outer"><h3 class="class title-package">ewe.security</h3><h1 class="class title-class">Class Signature</h1></div><div class="class inheritance-tree"><ul class="inheritance 0"><li class="inheritance 0"><code><a href="../../java/lang/Object.html">java.lang.Object</a></code></li><li><ul class="inheritance 1"><li class="inheritance 1"><code>ewe.security.Signature</code></li><li></li></ul></li></ul></div><hr/><div class="class synopsis outer"><div class="class synopsis declaration"><code>public class <b class="class synopsis name">Signature</b></code></div><div class="class synopsis superclass"><code>extends <a href="../../java/lang/Object.html" title="Class in java.lang">Object</a></code></div></div><hr/><div class="class description"> A Signature is used to either hold a received Ewe digital signature,
 or to generate a Ewe digital signature.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><a name="summary-fields" id="summary-fields"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Field Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#length">length</a></code></dt><dd class="description"> This is the length of the document being signed.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> byte[]</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#signature">signature</a></code></dt><dd class="description"> This is the fully encoded signature bytes for transmission or storage along with the document.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> <a href="../../ewe/security/EncryptionKey.html" title="Interface in ewe.security">EncryptionKey</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#signersKey">signersKey</a></code></dt><dd class="description"> This is the signer's public key (for verifying signatures) or private key (for creating signatures).</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> <a href="../../ewe/sys/Time.html" title="Class in ewe.sys">Time</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#time">time</a></code></dt><dd class="description"> This is an optional timestamp to be embedded in the signature.</dd></dl></td></tr></table></dd></dl><a name="summary-constructors" id="summary-constructors"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Constructor Summary</h2></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#Signature:byte-:EncryptionKey">Signature</a>(byte[]&nbsp;signature, <a href="../../ewe/security/EncryptionKey.html" title="Interface in ewe.security">EncryptionKey</a>&nbsp;signersPublicKey)</code></dt><dd class="description"> This is used on a signature that has already been generated.</dd></dl></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#Signature:EncryptionKey:Time">Signature</a>(<a href="../../ewe/security/EncryptionKey.html" title="Interface in ewe.security">EncryptionKey</a>&nbsp;signersPrivateKey, <a href="../../ewe/sys/Time.html" title="Class in ewe.sys">Time</a>&nbsp;signatureTime)</code></dt><dd class="description"> Create a Signature object in preparation for signing.</dd></dl></td></tr></table></dd></dl><a name="summary-methods" id="summary-methods"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Method Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#addToSignature:byte-:int:int:SHA1">addToSignature</a>(byte[]&nbsp;data, int&nbsp;offset, int&nbsp;length, <a href="../../ewe/security/SHA1.html" title="Class in ewe.security">SHA1</a>&nbsp;digest)</code></dt><dd class="description"> Add bytes to the signature.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> byte[]</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getSignature:SHA1">getSignature</a>(<a href="../../ewe/security/SHA1.html" title="Class in ewe.security">SHA1</a>&nbsp;digest)</code></dt><dd class="description"> Get the signature for a document that has had all its bytes passed through digest,
 either through addToSignature() or directly via update().</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> byte[]</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#sign:byte-:int:int:SHA1">sign</a>(byte[]&nbsp;data, int&nbsp;offset, int&nbsp;length, <a href="../../ewe/security/SHA1.html" title="Class in ewe.security">SHA1</a>&nbsp;digest)</code></dt><dd class="description"> Produce a signature for a document.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#verify:byte-:int:int:SHA1">verify</a>(byte[]&nbsp;data, int&nbsp;offset, int&nbsp;length, <a href="../../ewe/security/SHA1.html" title="Class in ewe.security">SHA1</a>&nbsp;digest)</code></dt><dd class="description"> Verify that a document is the same as the one that was signed with this signature.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#verify:int:byte-">verify</a>(int&nbsp;dataLength, byte[]&nbsp;digest)</code></dt><dd class="description"> Verify that a document with a particular data length and with a particular digest
 bytes is the same as the one that was signed with this signature.</dd></dl></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class java.lang.<a href="../../java/lang/Object.html" title="Class in java.lang">Object</a></h3></td></tr><tr><td class="inherited"><a href="../../java/lang/Object.html#clone:" title="clone()"><code class="member">clone</code></a>, <a href="../../java/lang/Object.html#equals:Object" title="equals(Object)"><code class="member">equals</code></a>, <a href="../../java/lang/Object.html#finalize:" title="finalize()"><code class="member">finalize</code></a>, <a href="../../java/lang/Object.html#getClass:" title="getClass()"><code class="member">getClass</code></a>, <a href="../../java/lang/Object.html#hashCode:" title="hashCode()"><code class="member">hashCode</code></a>, <a href="../../java/lang/Object.html#toString:" title="toString()"><code class="member">toString</code></a></td></tr></table></dd></dl><a name="detail-fields" id="detail-fields"/><h2 class="section header">Field Details</h2><div class="section"><a name="length" id="length"/><div class="member detail outer"><h3 class="member detail name">length</h3><pre class="member detail synopsis">public int length</pre><blockquote class="member detail name"><div class="member detail description"> This is the length of the document being signed.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="signature" id="signature"/><div class="member detail outer"><h3 class="member detail name">signature</h3><pre class="member detail synopsis">public byte[] signature</pre><blockquote class="member detail name"><div class="member detail description"> This is the fully encoded signature bytes for transmission or storage along with the document.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="signersKey" id="signersKey"/><div class="member detail outer"><h3 class="member detail name">signersKey</h3><pre class="member detail synopsis">public <a href="../../ewe/security/EncryptionKey.html" title="Interface in ewe.security">EncryptionKey</a> signersKey</pre><blockquote class="member detail name"><div class="member detail description"> This is the signer's public key (for verifying signatures) or private key (for creating signatures).
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="time" id="time"/><div class="member detail outer"><h3 class="member detail name">time</h3><pre class="member detail synopsis">public <a href="../../ewe/sys/Time.html" title="Class in ewe.sys">Time</a> time</pre><blockquote class="member detail name"><div class="member detail description"> This is an optional timestamp to be embedded in the signature.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-constructors" id="detail-constructors"/><h2 class="section header">Constructor Details</h2><div class="section"><a name="Signature:byte-:EncryptionKey" id="Signature:byte-:EncryptionKey"/><div class="member detail outer"><h3 class="member detail name">Signature</h3><pre class="member detail synopsis">public Signature(byte[] signature,
                 <a href="../../ewe/security/EncryptionKey.html" title="Interface in ewe.security">EncryptionKey</a> signersPublicKey)
            throws <a href="../../ewe/io/StreamCorruptedException.html" title="Class in ewe.io">StreamCorruptedException</a></pre><blockquote class="member detail name"><div class="member detail description"> This is used on a signature that has already been generated. After the construction, the
 length variable will hold the length of the document and the time variable will be set
 to the timestamp in the signature, or null if no timestamp was encoded.<p/>
 After calling this constructor you can call the verify() methods to verify if a document
 is the one that was signed.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">signature</code><span class="separator"> - </span><span class="description">the recieved or stored encoded signature bytes.</span></dd><dd class="item"><code class="name">signersPublicKey</code><span class="separator"> - </span><span class="description">the public key of the signer.</span></dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/StreamCorruptedException.html" title="Class in ewe.io">StreamCorruptedException</a></code><span class="separator"> - </span><span class="description">if the data is invalid in any way.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="Signature:EncryptionKey:Time" id="Signature:EncryptionKey:Time"/><div class="member detail outer"><h3 class="member detail name">Signature</h3><pre class="member detail synopsis">public Signature(<a href="../../ewe/security/EncryptionKey.html" title="Interface in ewe.security">EncryptionKey</a> signersPrivateKey,
                 <a href="../../ewe/sys/Time.html" title="Class in ewe.sys">Time</a> signatureTime)</pre><blockquote class="member detail name"><div class="member detail description"> Create a Signature object in preparation for signing. After creating the object with
 this constructor, you should call one of the sign() methods.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">signatureTime</code><span class="separator"> - </span><span class="description">an optional timestamp to include in the signature.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-methods" id="detail-methods"/><h2 class="section header">Method Details</h2><div class="section"><a name="addToSignature:byte-:int:int:SHA1" id="addToSignature:byte-:int:int:SHA1"/><div class="member detail outer"><h3 class="member detail name">addToSignature</h3><pre class="member detail synopsis">public void addToSignature(byte[] data,
                           int offset,
                           int length,
                           <a href="../../ewe/security/SHA1.html" title="Class in ewe.security">SHA1</a> digest)</pre><blockquote class="member detail name"><div class="member detail description"> Add bytes to the signature. After calling this for all bytes you should call
 getSignature() to get the signature.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">data</code><span class="separator"> - </span><span class="description">the source bytes.</span></dd><dd class="item"><code class="name">offset</code><span class="separator"> - </span><span class="description">the start of the bytes in the data.</span></dd><dd class="item"><code class="name">length</code><span class="separator"> - </span><span class="description">the number of bytes in the data.</span></dd><dd class="item"><code class="name">digest</code><span class="separator"> - </span><span class="description">the SHA1 using to create the message digets (must not be null).</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="getSignature:SHA1" id="getSignature:SHA1"/><div class="member detail outer"><h3 class="member detail name">getSignature</h3><pre class="member detail synopsis">public byte[] getSignature(<a href="../../ewe/security/SHA1.html" title="Class in ewe.security">SHA1</a> digest)
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> Get the signature for a document that has had all its bytes passed through digest,
 either through addToSignature() or directly via update(). After this call the signature
 is placed in the "signature" field.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">digest</code><span class="separator"> - </span><span class="description">the digest being used for the signature.</span></dd></dl></div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the signature bytes.</dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if there is an error encrypting the signature.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="sign:byte-:int:int:SHA1" id="sign:byte-:int:int:SHA1"/><div class="member detail outer"><h3 class="member detail name">sign</h3><pre class="member detail synopsis">public byte[] sign(byte[] data,
                   int offset,
                   int length,
                   <a href="../../ewe/security/SHA1.html" title="Class in ewe.security">SHA1</a> digest)
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> Produce a signature for a document. The signature variable is set to be the final
 signature bytes and this is also returned.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">data</code><span class="separator"> - </span><span class="description">the data bytes to sign.</span></dd><dd class="item"><code class="name">offset</code><span class="separator"> - </span><span class="description">the start of the data bytes in the data parameter.</span></dd><dd class="item"><code class="name">length</code><span class="separator"> - </span><span class="description">the number of bytes in the data.</span></dd><dd class="item"><code class="name">digest</code><span class="separator"> - </span><span class="description">an optional pre-created SHA1 object to create the document digest.</span></dd></dl></div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the bytes for the signature.</dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if an encryption of data processing error occurs.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="verify:byte-:int:int:SHA1" id="verify:byte-:int:int:SHA1"/><div class="member detail outer"><h3 class="member detail name">verify</h3><pre class="member detail synopsis">public boolean verify(byte[] data,
                      int offset,
                      int length,
                      <a href="../../ewe/security/SHA1.html" title="Class in ewe.security">SHA1</a> digest)</pre><blockquote class="member detail name"><div class="member detail description"> Verify that a document is the same as the one that was signed with this signature.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">data</code><span class="separator"> - </span><span class="description">the data to verify.</span></dd><dd class="item"><code class="name">offset</code><span class="separator"> - </span><span class="description">the start of the data.</span></dd><dd class="item"><code class="name">length</code><span class="separator"> - </span><span class="description">the number of bytes in the data.</span></dd><dd class="item"><code class="name">digest</code><span class="separator"> - </span><span class="description">an optional pre-created SHA1 object to digest the data.</span></dd></dl></div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">true if it verified correctly.</dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="verify:int:byte-" id="verify:int:byte-"/><div class="member detail outer"><h3 class="member detail name">verify</h3><pre class="member detail synopsis">public boolean verify(int dataLength,
                      byte[] digest)</pre><blockquote class="member detail name"><div class="member detail description"> Verify that a document with a particular data length and with a particular digest
 bytes is the same as the one that was signed with this signature.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">dataLength</code><span class="separator"> - </span><span class="description">the length of the data.</span></dd><dd class="item"><code class="name">digest</code><span class="separator"> - </span><span class="description">the SHA1 digest of the data.</span></dd></dl></div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">true if it verified correctly.</dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><p class="navbar bottom spacer"> </p><table class="navbar div bottom"><tr><td><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td></tr></table><hr/>Copyright &copy; 2008 <a href="mailto:miros-discuss@mirbsd.de">The MirOS Project</a> and its contributors.</body></html>