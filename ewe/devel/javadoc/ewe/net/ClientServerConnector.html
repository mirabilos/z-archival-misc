<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//gnu.org///DTD XHTML 1.1 plus Target 1.0//EN" "../../resources/xhtml11-target10.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>ClientServerConnector</title><script src="../../resources/gjdoc.js" type="text/javascript"><!-- this comment required for konqueror 3.2.2 --></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="generator" content="GNU Gjdoc Standard Doclet"/><meta name="keywords" content="ewe.net.ClientServerConnector class"/><meta name="keywords" content="TCP_SOCKET"/><meta name="keywords" content="REMOTE_TCP_SOCKET"/><meta name="keywords" content="INFRA_RED"/><meta name="keywords" content="REMOTE_SERVICE"/><meta name="keywords" content="type"/><meta name="keywords" content="hostOrService"/><meta name="keywords" content="port"/><meta name="keywords" content="showSelectionScreen"/><meta name="keywords" content="timeoutInSeconds"/><meta name="keywords" content="dontShowCancel"/><meta name="keywords" content="parentFrame"/><meta name="keywords" content="acceptOnlyOneConnection"/><meta name="keywords" content="server"/><meta name="keywords" content="connecting"/><meta name="keywords" content="isClient"/><meta name="keywords" content="isServer"/><meta name="keywords" content="socketMaker"/><meta name="keywords" content="stopServer()"/><meta name="keywords" content="doStop()"/><meta name="keywords" content="connectToServer()"/><meta name="keywords" content="connect()"/><meta name="keywords" content="waitOnConnection()"/><meta name="keywords" content="client()"/><meta name="keywords" content="server()"/><meta name="keywords" content="doRun()"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-layout.css" title="GNU Clean"/><link rel="stylesheet" type="text/css" href="../../resources/gjdochtml-clean-color1.css" title="GNU Clean"/></head><body class="content class" onload="if(parent.contentPageLoaded)parent.contentPageLoaded(document.title)"><table class="navbar div top"><tr><td class="navbar div top"><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td><td class="header" rowspan="2">MirEwe 1.49mb4 API</td></tr><tr><td class="navi"><a href="../../ewe/net/BindException.html">Prev Class</a> | <a href="../../ewe/net/DatagramPacket.html">Next Class</a></td><td class="navi"><a href="../../index.html" title="Show in a frameset" target="_top">Frames</a> | <a href="ClientServerConnector.html" title="Show without frames" target="_top">No Frames</a> </td></tr><tr><td class="navi">Summary: Nested | <a href="#summary-fields">Field</a> | <a href="#summary-methods">Method</a> | <a href="#summary-constructors">Constr</a></td><td class="navi">Detail: Nested | <a href="#detail-fields">Field</a> | <a href="#detail-methods">Method</a> | <a href="#detail-constructors">Constr</a></td></tr></table><div class="class title outer"><h3 class="class title-package">ewe.net</h3><h1 class="class title-class">Class ClientServerConnector</h1></div><div class="class inheritance-tree"><ul class="inheritance 0"><li class="inheritance 0"><code><a href="../../java/lang/Object.html">java.lang.Object</a></code></li><li><ul class="inheritance 1"><li class="inheritance 1"><code><a href="../../ewe/sys/TaskObject.html">ewe.sys.TaskObject</a></code></li><li><ul class="inheritance 2"><li class="inheritance 2"><code>ewe.net.ClientServerConnector</code></li><li></li></ul></li></ul></li></ul></div><dl class="class knownimplementing"><dt class="header"><b>Implemented Interfaces:</b></dt><dd class="item"><a href="../../java/lang/Runnable.html" title="Interface in java.lang">Runnable</a>, <a href="../../ewe/sys/Task.html" title="Interface in ewe.sys">Task</a></dd></dl><hr/><div class="class synopsis outer"><div class="class synopsis declaration"><code>public abstract class <b class="class synopsis name">ClientServerConnector</b></code></div><div class="class synopsis superclass"><code>extends <a href="../../ewe/sys/TaskObject.html" title="Class in ewe.sys">TaskObject</a></code></div></div><hr/><div class="class description"> This can be used to easily create a Client/Server connection over TCP/IP or
 through the EweSync RemoteConnection.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><a name="summary-fields" id="summary-fields"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Field Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis">static int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#INFRA_RED">INFRA_RED</a></code></dt><dd class="description"> This is a type to be used in the constructor.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#REMOTE_SERVICE">REMOTE_SERVICE</a></code></dt><dd class="description"> This is a type to be used in the constructor.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#REMOTE_TCP_SOCKET">REMOTE_TCP_SOCKET</a></code></dt><dd class="description"> This is a type to be used in the constructor.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#TCP_SOCKET">TCP_SOCKET</a></code></dt><dd class="description"> This is a type to be used in the constructor.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#acceptOnlyOneConnection">acceptOnlyOneConnection</a></code></dt><dd class="description"> If this is set true then after the initial connection, no more connections
 will be accepted and the server socket will be closed.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  <a href="../../ewe/sys/Handle.html" title="Class in ewe.sys">Handle</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#connecting">connecting</a></code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#dontShowCancel">dontShowCancel</a></code></dt><dd class="description"> Set this true if you don't want to show the cancel box.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> <a href="../../java/lang/String.html" title="Class in java.lang">String</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#hostOrService">hostOrService</a></code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#isClient">isClient</a></code></dt><dd class="description"> This will be set if a connection is made and this connector is considered the client.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#isServer">isServer</a></code></dt><dd class="description"> This will be set if a connection is made and this connector is considered the server.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> <a href="../../ewe/ui/Frame.html" title="Class in ewe.ui">Frame</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#parentFrame">parentFrame</a></code></dt><dd class="description"> You can optionanlly set this.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#port">port</a></code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> <a href="../../ewe/net/ServerSocket.html" title="Class in ewe.net">ServerSocket</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#server">server</a></code></dt><dd class="description"> This is the server that will be listened to after the initial connection.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#showSelectionScreen">showSelectionScreen</a></code></dt><dd class="description"> Set this true to let the user change the connection settings.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  <a href="../../ewe/net/SocketMaker.html" title="Class in ewe.net">SocketMaker</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#socketMaker">socketMaker</a></code></dt><dd class="description"> This will be created during the connection setup.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#timeoutInSeconds">timeoutInSeconds</a></code></dt><dd class="description"> This defaults to 30 seconds.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> int</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#type">type</a></code></dt></dl></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Fields inherited from class ewe.sys.<a href="../../ewe/sys/TaskObject.html" title="Class in ewe.sys">TaskObject</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/sys/TaskObject.html#handle"><code class="member">handle</code></a>, <a href="../../ewe/sys/TaskObject.html#interruptThreadToStop"><code class="member">interruptThreadToStop</code></a>, <a href="../../ewe/sys/TaskObject.html#myThread"><code class="member">myThread</code></a>, <a href="../../ewe/sys/TaskObject.html#napIterations"><code class="member">napIterations</code></a>, <a href="../../ewe/sys/TaskObject.html#napTime"><code class="member">napTime</code></a>, <a href="../../ewe/sys/TaskObject.html#shouldStop"><code class="member">shouldStop</code></a></td></tr></table></dd></dl><a name="summary-constructors" id="summary-constructors"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Constructor Summary</h2></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#ClientServerConnector:boolean:int">ClientServerConnector</a>(boolean&nbsp;amServer, int&nbsp;port)</code></dt><dd class="description"> This is for Infra-Red connections only - it creates a client-server connection over the
 infra-red port where this entity will act as either the server or client as specified
by the amServer parameter.</dd></dl></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#ClientServerConnector:boolean:int:String:int">ClientServerConnector</a>(boolean&nbsp;amServer, int&nbsp;type, <a href="../../java/lang/String.html" title="Class in java.lang">String</a>&nbsp;hostOrService, int&nbsp;port)</code></dt><dd class="description"> This creates a client-server connection where this entity will act as either the server or client as specified
by the amServer parameter.</dd></dl></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#ClientServerConnector:int">ClientServerConnector</a>(int&nbsp;port)</code></dt><dd class="description"> This is for Infra-Red connections only - it creates a negotiated client-server connection over
 the infra-red port.</dd></dl></td></tr><tr><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#ClientServerConnector:int:String:int">ClientServerConnector</a>(int&nbsp;type, <a href="../../java/lang/String.html" title="Class in java.lang">String</a>&nbsp;hostOrService, int&nbsp;port)</code></dt><dd class="description"> Create a negotiated client-server connection between two initially peer entities.</dd></dl></td></tr></table></dd></dl><a name="summary-methods" id="summary-methods"/><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Method Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected abstract void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#client:Socket">client</a>(<a href="../../ewe/net/Socket.html" title="Class in ewe.net">Socket</a>&nbsp;s)</code></dt><dd class="description"> This gets called on the first connection and if it is determined that I am the client.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> <a href="../../ewe/sys/Handle.html" title="Class in ewe.sys">Handle</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#connect:">connect</a>()</code></dt><dd class="description"> Start the connection process and immediately return a Handle to indicate its progress.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> <a href="../../ewe/net/Socket.html" title="Class in ewe.net">Socket</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#connectToServer:">connectToServer</a>()</code></dt><dd class="description"> This is used to make another connection to the server process on the same server port
 where the initial connection was made.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#doRun:">doRun</a>()</code></dt><dd class="description"> Override this method if you want to use an mThread to run your Task.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected  void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#doStop:int">doStop</a>(int&nbsp;reason)</code></dt><dd class="description"> This method, by default, sets the shouldStop variable to true.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">protected abstract void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#server:Socket:boolean">server</a>(<a href="../../ewe/net/Socket.html" title="Class in ewe.net">Socket</a>&nbsp;client, boolean&nbsp;firstConnection)</code></dt><dd class="description"> This gets called every time the client connects - including the initial connection.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#stopServer:">stopServer</a>()</code></dt><dd class="description"> If the connector is waiting for extra client connections this will close the server
 socket.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> boolean</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#waitOnConnection:">waitOnConnection</a>()</code></dt><dd class="description"> Start the connecton and wait until the connection is made.</dd></dl></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class ewe.sys.<a href="../../ewe/sys/TaskObject.html" title="Class in ewe.sys">TaskObject</a></h3></td></tr><tr><td class="inherited"><a href="../../ewe/sys/TaskObject.html#checkAbortFail:Handle:boolean" title="checkAbortFail(Handle,boolean)"><code class="member">checkAbortFail</code></a>, <a href="../../ewe/sys/TaskObject.html#checkFailure:boolean:Handle:boolean" title="checkFailure(boolean,Handle,boolean)"><code class="member">checkFailure</code></a>, <a href="../../ewe/sys/TaskObject.html#doRun:" title="doRun()"><code class="member">doRun</code></a>, <a href="../../ewe/sys/TaskObject.html#doStart:" title="doStart()"><code class="member">doStart</code></a>, <a href="../../ewe/sys/TaskObject.html#doStop:int" title="doStop(int)"><code class="member">doStop</code></a>, <a href="../../ewe/sys/TaskObject.html#exec:String:Frame" title="exec(String,Frame)"><code class="member">exec</code></a>, <a href="../../ewe/sys/TaskObject.html#getHandle:" title="getHandle()"><code class="member">getHandle</code></a>, <a href="../../ewe/sys/TaskObject.html#nap:" title="nap()"><code class="member">nap</code></a>, <a href="../../ewe/sys/TaskObject.html#run:" title="run()"><code class="member">run</code></a>, <a href="../../ewe/sys/TaskObject.html#setNapTime:int:int" title="setNapTime(int,int)"><code class="member">setNapTime</code></a>, <a href="../../ewe/sys/TaskObject.html#show:String:Frame" title="show(String,Frame)"><code class="member">show</code></a>, <a href="../../ewe/sys/TaskObject.html#sleep:int" title="sleep(int)"><code class="member">sleep</code></a>, <a href="../../ewe/sys/TaskObject.html#start:String" title="start(String)"><code class="member">start</code></a>, <a href="../../ewe/sys/TaskObject.html#startTask:" title="startTask()"><code class="member">startTask</code></a>, <a href="../../ewe/sys/TaskObject.html#stopTask:int" title="stopTask(int)"><code class="member">stopTask</code></a>, <a href="../../ewe/sys/TaskObject.html#waitOn:Handle:int:boolean" title="waitOn(Handle,int,boolean)"><code class="member">waitOn</code></a>, <a href="../../ewe/sys/TaskObject.html#waitOnAny:Handle:int:boolean" title="waitOnAny(Handle,int,boolean)"><code class="member">waitOnAny</code></a>, <a href="../../ewe/sys/TaskObject.html#waitOnSuccess:Handle:boolean" title="waitOnSuccess(Handle,boolean)"><code class="member">waitOnSuccess</code></a>, <a href="../../ewe/sys/TaskObject.html#yield:" title="yield()"><code class="member">yield</code></a>, <a href="../../ewe/sys/TaskObject.html#yield:int" title="yield(int)"><code class="member">yield</code></a></td></tr></table></dd></dl><dl class="table container"><dd><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class java.lang.<a href="../../java/lang/Object.html" title="Class in java.lang">Object</a></h3></td></tr><tr><td class="inherited"><a href="../../java/lang/Object.html#clone:" title="clone()"><code class="member">clone</code></a>, <a href="../../java/lang/Object.html#equals:Object" title="equals(Object)"><code class="member">equals</code></a>, <a href="../../java/lang/Object.html#finalize:" title="finalize()"><code class="member">finalize</code></a>, <a href="../../java/lang/Object.html#getClass:" title="getClass()"><code class="member">getClass</code></a>, <a href="../../java/lang/Object.html#hashCode:" title="hashCode()"><code class="member">hashCode</code></a>, <a href="../../java/lang/Object.html#toString:" title="toString()"><code class="member">toString</code></a></td></tr></table></dd></dl><a name="detail-fields" id="detail-fields"/><h2 class="section header">Field Details</h2><div class="section"><a name="INFRA_RED" id="INFRA_RED"/><div class="member detail outer"><h3 class="member detail name">INFRA_RED</h3><pre class="member detail synopsis">public static final int INFRA_RED</pre><blockquote class="member detail name"><div class="member detail description"> This is a type to be used in the constructor.
</div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Field Value:</b></dt><dd class="member detail thrown item">1</dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="REMOTE_SERVICE" id="REMOTE_SERVICE"/><div class="member detail outer"><h3 class="member detail name">REMOTE_SERVICE</h3><pre class="member detail synopsis">public static final int REMOTE_SERVICE</pre><blockquote class="member detail name"><div class="member detail description"> This is a type to be used in the constructor.
</div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Field Value:</b></dt><dd class="member detail thrown item">2</dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="REMOTE_TCP_SOCKET" id="REMOTE_TCP_SOCKET"/><div class="member detail outer"><h3 class="member detail name">REMOTE_TCP_SOCKET</h3><pre class="member detail synopsis">public static final int REMOTE_TCP_SOCKET</pre><blockquote class="member detail name"><div class="member detail description"> This is a type to be used in the constructor.
</div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Field Value:</b></dt><dd class="member detail thrown item">3</dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="TCP_SOCKET" id="TCP_SOCKET"/><div class="member detail outer"><h3 class="member detail name">TCP_SOCKET</h3><pre class="member detail synopsis">public static final int TCP_SOCKET</pre><blockquote class="member detail name"><div class="member detail description"> This is a type to be used in the constructor.
</div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Field Value:</b></dt><dd class="member detail thrown item">0</dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="acceptOnlyOneConnection" id="acceptOnlyOneConnection"/><div class="member detail outer"><h3 class="member detail name">acceptOnlyOneConnection</h3><pre class="member detail synopsis">public boolean acceptOnlyOneConnection</pre><blockquote class="member detail name"><div class="member detail description"> If this is set true then after the initial connection, no more connections
 will be accepted and the server socket will be closed.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="connecting" id="connecting"/><div class="member detail outer"><h3 class="member detail name">connecting</h3><pre class="member detail synopsis">protected <a href="../../ewe/sys/Handle.html" title="Class in ewe.sys">Handle</a> connecting</pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="dontShowCancel" id="dontShowCancel"/><div class="member detail outer"><h3 class="member detail name">dontShowCancel</h3><pre class="member detail synopsis">public boolean dontShowCancel</pre><blockquote class="member detail name"><div class="member detail description"> Set this true if you don't want to show the cancel box.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="hostOrService" id="hostOrService"/><div class="member detail outer"><h3 class="member detail name">hostOrService</h3><pre class="member detail synopsis">public <a href="../../java/lang/String.html" title="Class in java.lang">String</a> hostOrService</pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="isClient" id="isClient"/><div class="member detail outer"><h3 class="member detail name">isClient</h3><pre class="member detail synopsis">public boolean isClient</pre><blockquote class="member detail name"><div class="member detail description"> This will be set if a connection is made and this connector is considered the client.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="isServer" id="isServer"/><div class="member detail outer"><h3 class="member detail name">isServer</h3><pre class="member detail synopsis">public boolean isServer</pre><blockquote class="member detail name"><div class="member detail description"> This will be set if a connection is made and this connector is considered the server.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="parentFrame" id="parentFrame"/><div class="member detail outer"><h3 class="member detail name">parentFrame</h3><pre class="member detail synopsis">public <a href="../../ewe/ui/Frame.html" title="Class in ewe.ui">Frame</a> parentFrame</pre><blockquote class="member detail name"><div class="member detail description"> You can optionanlly set this. If it is false then the cancel box will be displayed in its own
 window.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="port" id="port"/><div class="member detail outer"><h3 class="member detail name">port</h3><pre class="member detail synopsis">public int port</pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="server" id="server"/><div class="member detail outer"><h3 class="member detail name">server</h3><pre class="member detail synopsis">public <a href="../../ewe/net/ServerSocket.html" title="Class in ewe.net">ServerSocket</a> server</pre><blockquote class="member detail name"><div class="member detail description"> This is the server that will be listened to after the initial connection. This will only
 be valid if this entity is the server.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="showSelectionScreen" id="showSelectionScreen"/><div class="member detail outer"><h3 class="member detail name">showSelectionScreen</h3><pre class="member detail synopsis">public boolean showSelectionScreen</pre><blockquote class="member detail name"><div class="member detail description"> Set this true to let the user change the connection settings.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="socketMaker" id="socketMaker"/><div class="member detail outer"><h3 class="member detail name">socketMaker</h3><pre class="member detail synopsis">protected <a href="../../ewe/net/SocketMaker.html" title="Class in ewe.net">SocketMaker</a> socketMaker</pre><blockquote class="member detail name"><div class="member detail description"> This will be created during the connection setup.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="timeoutInSeconds" id="timeoutInSeconds"/><div class="member detail outer"><h3 class="member detail name">timeoutInSeconds</h3><pre class="member detail synopsis">public int timeoutInSeconds</pre><blockquote class="member detail name"><div class="member detail description"> This defaults to 30 seconds.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="type" id="type"/><div class="member detail outer"><h3 class="member detail name">type</h3><pre class="member detail synopsis">public int type</pre><blockquote class="member detail name"><div class="member detail description"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-constructors" id="detail-constructors"/><h2 class="section header">Constructor Details</h2><div class="section"><a name="ClientServerConnector:boolean:int" id="ClientServerConnector:boolean:int"/><div class="member detail outer"><h3 class="member detail name">ClientServerConnector</h3><pre class="member detail synopsis">public ClientServerConnector(boolean amServer,
                             int port)</pre><blockquote class="member detail name"><div class="member detail description"> This is for Infra-Red connections only - it creates a client-server connection over the
 infra-red port where this entity will act as either the server or client as specified
by the amServer parameter.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">amServer</code><span class="separator"> - </span><span class="description">if this is true then this entity is the server, otherwise it is the client.</span></dd><dd class="item"><code class="name">port</code><span class="separator"> - </span><span class="description">the port number to use (which should not be 0).</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="ClientServerConnector:boolean:int:String:int" id="ClientServerConnector:boolean:int:String:int"/><div class="member detail outer"><h3 class="member detail name">ClientServerConnector</h3><pre class="member detail synopsis">public ClientServerConnector(boolean amServer,
                             int type,
                             <a href="../../java/lang/String.html" title="Class in java.lang">String</a> hostOrService,
                             int port)</pre><blockquote class="member detail name"><div class="member detail description"> This creates a client-server connection where this entity will act as either the server or client as specified
by the amServer parameter.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">amServer</code><span class="separator"> - </span><span class="description">if this is true then this entity is the server, otherwise it is the client.</span></dd><dd class="item"><code class="name">type</code><span class="separator"> - </span><span class="description">either TCP_SOCKET, REMOTE_TCP_SOCKET, REMOTE_SERVICE or INFRA_RED</span></dd><dd class="item"><code class="name">hostOrService</code><span class="separator"> - </span><span class="description">for TCP_SOCKET or REMOTE_TCP_SOCKET it should be the host name,
for REMOTE_SERVICE (over the EweSync connection) it should be the service name, and for
INFRA_RED it should be null.</span></dd><dd class="item"><code class="name">port</code><span class="separator"> - </span><span class="description">The port number to use. This should not be 0.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="ClientServerConnector:int" id="ClientServerConnector:int"/><div class="member detail outer"><h3 class="member detail name">ClientServerConnector</h3><pre class="member detail synopsis">public ClientServerConnector(int port)</pre><blockquote class="member detail name"><div class="member detail description"> This is for Infra-Red connections only - it creates a negotiated client-server connection over
 the infra-red port.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="ClientServerConnector:int:String:int" id="ClientServerConnector:int:String:int"/><div class="member detail outer"><h3 class="member detail name">ClientServerConnector</h3><pre class="member detail synopsis">public ClientServerConnector(int type,
                             <a href="../../java/lang/String.html" title="Class in java.lang">String</a> hostOrService,
                             int port)</pre><blockquote class="member detail name"><div class="member detail description"> Create a negotiated client-server connection between two initially peer entities.
<p/>
This type of connection will be initiated at both entities and a negotiation will be done
when both connect to decide which will act as the server and which as the client. This is
not recommended on all platforms since the TCP/IP implementation on some (e.g. Win98) is
flawed and this may not always work. The type of connection where one is definitely the
client and the other the server is usually better.<p/>
Note that doing this over the REMOTE_SERVICE will usually work correctly since in this case
the desktop will always be the server and the mobile device will always be the client.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">type</code><span class="separator"> - </span><span class="description">either TCP_SOCKET, REMOTE_TCP_SOCKET, REMOTE_SERVICE or INFRA_RED</span></dd><dd class="item"><code class="name">hostOrService</code><span class="separator"> - </span><span class="description">for TCP_SOCKET or REMOTE_TCP_SOCKET it should be the host name,
for REMOTE_SERVICE (over the EweSync connection) it should be the service name, and for
INFRA_RED it should be null.</span></dd><dd class="item"><code class="name">port</code><span class="separator"> - </span><span class="description">The port number to use. This should not be 0.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><a name="detail-methods" id="detail-methods"/><h2 class="section header">Method Details</h2><div class="section"><a name="client:Socket" id="client:Socket"/><div class="member detail outer"><h3 class="member detail name">client</h3><pre class="member detail synopsis">protected abstract void client(<a href="../../ewe/net/Socket.html" title="Class in ewe.net">Socket</a> s)</pre><blockquote class="member detail name"><div class="member detail description"> This gets called on the first connection and if it is determined that I am the client. You can make further
 connections to the server by calling connectToServer(), but this method will not be called again.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="connect:" id="connect:"/><div class="member detail outer"><h3 class="member detail name">connect</h3><pre class="member detail synopsis">public <a href="../../ewe/sys/Handle.html" title="Class in ewe.sys">Handle</a> connect()</pre><blockquote class="member detail name"><div class="member detail description"> Start the connection process and immediately return a Handle to indicate its progress.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="connectToServer:" id="connectToServer:"/><div class="member detail outer"><h3 class="member detail name">connectToServer</h3><pre class="member detail synopsis">public <a href="../../ewe/net/Socket.html" title="Class in ewe.net">Socket</a> connectToServer()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> This is used to make another connection to the server process on the same server port
 where the initial connection was made.
</div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">A connected Socket.</dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if a connection could not be made.</span></dd><dd class="member detail thrown item"><code class="name"><a href="../../java/lang/IllegalStateException.html" title="Class in java.lang">IllegalStateException</a></code><span class="separator"> - </span><span class="description">if this connector is not the client.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="doRun:" id="doRun:"/><div class="member detail outer"><h3 class="member detail name">doRun</h3><pre class="member detail synopsis">protected void doRun()</pre><blockquote class="member detail name"><div class="member detail description"> Override this method if you want to use an mThread to run your Task. Otherwise
 if you are using timers or callbacks, override the doStart() method.
</div><dl class="member detail overridden list"><dt class="member detail overridden header"><b>Overrides:</b></dt><dd class="member detail overridden item"><a href="../../ewe/sys/TaskObject.html#doRun:">doRun</a> in interface <a href="../../ewe/sys/TaskObject.html" title="Class in ewe.sys">TaskObject</a></dd></dl><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="doStop:int" id="doStop:int"/><div class="member detail outer"><h3 class="member detail name">doStop</h3><pre class="member detail synopsis">protected void doStop(int reason)</pre><blockquote class="member detail name"><div class="member detail description"> This method, by default, sets the shouldStop variable to true. The Task
 should therefore always check this variable when coming out of a sleep()
 to see whether it should continue or stop.
 <p/>
 You can override this to provide a different method of stopping the
 task.
</div><dl class="member detail overridden list"><dt class="member detail overridden header"><b>Overrides:</b></dt><dd class="member detail overridden item"><a href="../../ewe/sys/TaskObject.html#doStop:int">doStop</a> in interface <a href="../../ewe/sys/TaskObject.html" title="Class in ewe.sys">TaskObject</a></dd></dl><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">reason</code><span class="separator"> - </span><span class="description">some task specific reason for stopping. There are no pre-defined reasons.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="server:Socket:boolean" id="server:Socket:boolean"/><div class="member detail outer"><h3 class="member detail name">server</h3><pre class="member detail synopsis">protected abstract void server(<a href="../../ewe/net/Socket.html" title="Class in ewe.net">Socket</a> client,
                               boolean firstConnection)</pre><blockquote class="member detail name"><div class="member detail description"> This gets called every time the client connects - including the initial connection.
</div><div class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">client</code><span class="separator"> - </span><span class="description">The client that is connected.</span></dd><dd class="item"><code class="name">firstConnection</code><span class="separator"> - </span><span class="description">this is true if this is the initial connection.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="stopServer:" id="stopServer:"/><div class="member detail outer"><h3 class="member detail name">stopServer</h3><pre class="member detail synopsis">public void stopServer()</pre><blockquote class="member detail name"><div class="member detail description"> If the connector is waiting for extra client connections this will close the server
 socket. It is safe to call this even if this is the client.
</div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div><hr/><a name="waitOnConnection:" id="waitOnConnection:"/><div class="member detail outer"><h3 class="member detail name">waitOnConnection</h3><pre class="member detail synopsis">public boolean waitOnConnection()
            throws <a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></pre><blockquote class="member detail name"><div class="member detail description"> Start the connecton and wait until the connection is made.
</div><div class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">true if this becomes the server, false if the client.</dd></dl></div><div class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../ewe/io/IOException.html" title="Class in ewe.io">IOException</a></code><span class="separator"> - </span><span class="description">if the connection failed.</span></dd></dl></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div><div class="taglet"></div></blockquote></div></div><p class="navbar bottom spacer"> </p><table class="navbar div bottom"><tr><td><div class="navbar div top"><span class="navbar item enabled"><a href="../../overview-summary.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../about.html">About</a></span></div></td></tr></table><hr/>Copyright &copy; 2008 <a href="mailto:miros-discuss@mirbsd.de">The MirOS Project</a> and its contributors.</body></html>